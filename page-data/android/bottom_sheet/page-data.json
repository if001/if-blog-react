{"componentChunkName":"component---src-templates-blog-post-js","path":"/android/bottom_sheet/","webpackCompilationHash":"dbe3a3eb889e9b8356ad","result":{"data":{"site":{"siteMetadata":{"url":"https://www.if-blog.site","title":"アンドロイドは推理小説を書くか?","labels":[{"tag":"react","tech":"React","name":"DiReact","size":17,"color":"royalblue"},{"tag":"gatsby","tech":"gatsby","name":"DiReact","size":17,"color":"indigo"},{"tag":"nodejs","tech":"Node.js","name":"DiNodejsSmall","size":17,"color":"green"},{"tag":"git","tech":"Git","name":"DiGit","size":17,"color":"black"},{"tag":"javascript","tech":"JavaScript","name":"DiJsBadge","size":17,"color":"black"},{"tag":"css","tech":"CSS","name":"DiCss3Full","size":17,"color":"teal"},{"tag":"python","tech":"python","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"keras","tech":"keras","name":"DiPython","size":17,"color":"red"},{"tag":"seq2seq","tech":"seq2seq","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"word2vec","tech":"word2vec","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"seqgan","tech":"seqgan","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"ruby","tech":"Ruby","name":"DiRuby","size":17,"color":"crimson"},{"tag":"java","tech":"Java","name":"FaJava","size":17,"color":"red"},{"tag":"angular","tech":"Angular","name":"DiAngularSimple","size":17,"color":"red"},{"tag":"html","tech":"HTML","name":"FaHtml5","size":17,"color":"darkorange"},{"tag":"php","tech":"php","name":"DiPhp","size":17,"color":"violet"},{"tag":"mongodb","tech":"MongoDB","name":"DiMongodb","size":17,"color":"green"},{"tag":"vscode","tech":"VS Code","name":"DiVisualstudio","size":17,"color":"deepskyblue"},{"tag":"go","tech":"go","name":"DiGo","size":17,"color":"black"},{"tag":"golang","tech":"Golang","name":"DiGo","size":17,"color":"black"},{"tag":"読書","tech":"読書","name":"FaBookOpen","size":17,"color":"blue"},{"tag":"読了","tech":"読了","name":"FaBook","size":17,"color":"green"},{"tag":"hugo","tech":"Hugo","name":"FaServer","size":17,"color":"deeppink"},{"tag":"falcon","tech":"falcon","name":"FaServer","size":17,"color":"dodgerblue"},{"tag":"docker","tech":"Docker","name":"DiDocker","size":17,"color":"blue"},{"tag":"aws","tech":"Aws","name":"DiAws","size":17,"color":"orange"},{"tag":"nlp","tech":"NLP","name":"FaLanguage","size":17,"color":"black"},{"tag":"firebase","tech":"FireBase","name":"DiGoogleCloudPlatform","size":17,"color":"blue"},{"tag":"deeplearning","tech":"DeepLearning","name":"FaBrain","size":17,"color":"blue"},{"tag":"poem","tech":"poem","name":"FaPenFancy","size":17,"color":"sandybrown"},{"tag":"rust","tech":"rust","name":"DiRust","size":17,"color":"black"},{"tag":"tex","tech":"tex","name":"FaTextHeight","size":17,"color":"teal"},{"tag":"論文","tech":"論文","name":"FaFileSignature","size":17,"color":"brown"},{"tag":"emacs","tech":"emasc","name":"FaEdit","size":17,"color":"purple"},{"tag":"google-analytics","tech":"google-analytics","name":"DiGoogleAnalytics","size":17,"color":"blue"},{"tag":"vue.js","tech":"vue.js","name":"FaVuejs","size":17,"color":"green"},{"tag":"vuetify","tech":"vuetify","name":"FaVuejs","size":17,"color":"blue"},{"tag":"android","tech":"android","name":"FaAndroid","size":17,"color":"green"}]}},"markdownRemark":{"html":"<p>Google Mapで下から引っ張ると出てくるやつ。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1039bfb175833f23d4eae341e9f260de/0ac40/bottom_sheet.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 144.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABsGGZ0IZuK7VYjif/xAAdEAACAgMAAwAAAAAAAAAAAAAAAQIDBBESEBNB/9oACAEBAAEFAtnTN+Pg+TSI1wY8m33vJtUZZVp//8QAFhEBAQEAAAAAAAAAAAAAAAAAABIQ/9oACAEDAQE/AclL/8QAGBEBAAMBAAAAAAAAAAAAAAAAAAEREiH/2gAIAQIBAT8BdW1L/8QAHhAAAgEDBQAAAAAAAAAAAAAAAREAAiExECBBUZH/2gAIAQEABj8C25hvjS0qpYTPEbHkCIFup//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExUWGBcf/aAAgBAQABPyGfh6TLibtmDlcArSCnogyd53ArdlwmiyVlnIEBwxtP/9oADAMBAAIAAwAAABDbyjL/xAAZEQEAAgMAAAAAAAAAAAAAAAABABEQMVH/2gAIAQMBAT8QVxR2SnJ//8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQIWH/2gAIAQIBAT8QBcVmi73/xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMUFxkf/aAAgBAQABPxBZNFeHuMBDAHZb91kekZr5gBHYe7cSIE0zAHc52TDCoCGGn5iNjKt99w6clRYWV95lVw0Eg9y9tAId1uf/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"activity\"\n        title=\"activity\"\n        src=\"/static/1039bfb175833f23d4eae341e9f260de/41689/bottom_sheet.jpg\"\n        srcset=\"/static/1039bfb175833f23d4eae341e9f260de/5fb09/bottom_sheet.jpg 100w,\n/static/1039bfb175833f23d4eae341e9f260de/f544b/bottom_sheet.jpg 200w,\n/static/1039bfb175833f23d4eae341e9f260de/41689/bottom_sheet.jpg 400w,\n/static/1039bfb175833f23d4eae341e9f260de/82472/bottom_sheet.jpg 600w,\n/static/1039bfb175833f23d4eae341e9f260de/a296c/bottom_sheet.jpg 800w,\n/static/1039bfb175833f23d4eae341e9f260de/0ac40/bottom_sheet.jpg 1134w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>調べたら以外と簡単にできた。</p>\n<p>dependenciesを追加。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">dependencies {\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>例</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-xml line-numbers\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>androidx.coordinatorlayout.widget.CoordinatorLayout</span> <span class=\"token attr-name\">.....</span> <span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LinearLayout</span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@+id/bottomSheetLayout<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>behavior_hideable</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>behavior_peekHeight</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>56dp<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>layout_behavior</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@string/bottom_sheet_behavior<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n 中身\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LinearLayout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>androidx.coordinatorlayout.widget.CoordinatorLayout</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>bottm sheetにしたいコンテンツ、今回の例ではLinearLayout、のlayout_behaviorを以下のように指定。  </p>\n<p><code class=\"language-text\">app:layout_behavior=&quot;@string/bottom_sheet_behavior</code>  </p>\n<p>CoordinatorLayoutの一番下に配置する。  </p>\n<p>開いたり閉じたりをコードで制御する場合は、activity/fragmentの中で以下のように設定する。</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-kotlin line-numbers\"><code class=\"language-kotlin\">bottomSheetBehavior <span class=\"token operator\">=</span> BottomSheetBehavior<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>bottomSheetLayout<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\">// 隠す</span>\nbottomSheetBehavior<span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> BottomSheetBehavior<span class=\"token punctuation\">.</span>STATE_COLLAPSED\n\n<span class=\"token comment\">// 開く</span>\nbottomSheetBehavior<span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> BottomSheetBehavior<span class=\"token punctuation\">.</span>STATE_EXPANDED</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>コールバックも設定できる。  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-kotlin line-numbers\"><code class=\"language-kotlin\"> bottomSheetBehavior<span class=\"token punctuation\">.</span><span class=\"token function\">setBottomSheetCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">object</span><span class=\"token operator\">:</span> BottomSheetBehavior<span class=\"token punctuation\">.</span><span class=\"token function\">BottomSheetCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onSlide</span><span class=\"token punctuation\">(</span>p0<span class=\"token operator\">:</span> View<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Float<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not implemented\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//To change body of created functions use File | Settings | File Templates.</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onStateChanged</span><span class=\"token punctuation\">(</span>p0<span class=\"token operator\">:</span> View<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not implemented\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//To change body of created functions use File | Settings | File Templates.</span>\n            <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>参考<br>\n<a href=\"https://blog.mindorks.com/android-bottomsheet-in-kotlin\">https://blog.mindorks.com/android-bottomsheet-in-kotlin</a><br>\n<a href=\"https://qiita.com/fumiyakawauso/items/1d0fa27aa508a3e0570a\">https://qiita.com/fumiyakawauso/items/1d0fa27aa508a3e0570a</a>  </p>","frontmatter":{"title":"Bottom Sheetをつける","date":"2020-02-29","tags":["android"]},"tableOfContents":""}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/android/bottom_sheet/"}}}