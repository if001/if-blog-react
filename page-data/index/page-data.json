{"componentChunkName":"component---src-pages-index-js","path":"/","webpackCompilationHash":"a926cc480c4b01deb32b","result":{"data":{"site":{"siteMetadata":{"title":"アンドロイドは推理小説を書くか?","author":"いふ","labels":[{"tag":"react","tech":"React","name":"DiReact","size":17,"color":"royalblue"},{"tag":"gatsby","tech":"gatsby","name":"DiReact","size":17,"color":"indigo"},{"tag":"nodejs","tech":"Node.js","name":"DiNodejsSmall","size":17,"color":"green"},{"tag":"git","tech":"Git","name":"DiGit","size":17,"color":"black"},{"tag":"javascript","tech":"JavaScript","name":"DiJsBadge","size":17,"color":"black"},{"tag":"css","tech":"CSS","name":"DiCss3Full","size":17,"color":"teal"},{"tag":"python","tech":"python","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"keras","tech":"keras","name":"DiPython","size":17,"color":"red"},{"tag":"seq2seq","tech":"seq2seq","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"word2vec","tech":"word2vec","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"seqgan","tech":"seqgan","name":"DiPython","size":17,"color":"dodgerblue"},{"tag":"ruby","tech":"Ruby","name":"DiRuby","size":17,"color":"crimson"},{"tag":"java","tech":"Java","name":"FaJava","size":17,"color":"red"},{"tag":"angular","tech":"Angular","name":"DiAngularSimple","size":17,"color":"red"},{"tag":"html","tech":"HTML","name":"FaHtml5","size":17,"color":"darkorange"},{"tag":"php","tech":"php","name":"DiPhp","size":17,"color":"violet"},{"tag":"mongodb","tech":"MongoDB","name":"DiMongodb","size":17,"color":"green"},{"tag":"vscode","tech":"VS Code","name":"DiVisualstudio","size":17,"color":"deepskyblue"},{"tag":"go","tech":"go","name":"DiGo","size":17,"color":"black"},{"tag":"golang","tech":"Golang","name":"DiGo","size":17,"color":"black"},{"tag":"読書","tech":"読書","name":"FaBookOpen","size":17,"color":"blue"},{"tag":"読了","tech":"読了","name":"FaBook","size":17,"color":"green"},{"tag":"hugo","tech":"Hugo","name":"FaServer","size":17,"color":"deeppink"},{"tag":"falcon","tech":"falcon","name":"FaServer","size":17,"color":"dodgerblue"},{"tag":"docker","tech":"Docker","name":"DiDocker","size":17,"color":"blue"},{"tag":"aws","tech":"Aws","name":"DiAws","size":17,"color":"orange"},{"tag":"nlp","tech":"NLP","name":"FaLanguage","size":17,"color":"black"},{"tag":"firebase","tech":"FireBase","name":"DiGoogleCloudPlatform","size":17,"color":"blue"},{"tag":"deeplearning","tech":"DeepLearning","name":"FaBrain","size":17,"color":"blue"},{"tag":"poem","tech":"poem","name":"FaPenFancy","size":17,"color":"sandybrown"},{"tag":"rust","tech":"rust","name":"DiRust","size":17,"color":"black"},{"tag":"tex","tech":"tex","name":"FaTextHeight","size":17,"color":"teal"},{"tag":"論文","tech":"論文","name":"FaFileSignature","size":17,"color":"brown"},{"tag":"emacs","tech":"emasc","name":"FaEdit","size":17,"color":"purple"},{"tag":"google-analytics","tech":"google-analytics","name":"DiGoogleAnalytics","size":17,"color":"blue"},{"tag":"vue.js","tech":"vue.js","name":"FaVuejs","size":17,"color":"green"},{"tag":"vuetify","tech":"vuetify","name":"FaVuejs","size":17,"color":"blue"},{"tag":"android","tech":"android","name":"FaAndroid","size":17,"color":"green"}]}},"allMarkdownRemark":{"totalCount":36,"edges":[{"node":{"excerpt":"Google Mapで下から引っ張ると出てくるやつ。  調べたら以外と簡単にできた。 dependenciesを追加。 例 bottm sheetにしたいコンテンツ、今回の例ではLinearLayout、のlayout_behaviorを以下のように指定。      CoordinatorLayoutの一番下に配置する。   開いたり閉じたりをコードで制御する場合は、activity…","html":"<p>Google Mapで下から引っ張ると出てくるやつ。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1039bfb175833f23d4eae341e9f260de/0ac40/bottom_sheet.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 144.44444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAdABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAEFAv/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAABsGGZ0IZuK7VYjif/xAAdEAACAgMAAwAAAAAAAAAAAAAAAQIDBBESEBNB/9oACAEBAAEFAtnTN+Pg+TSI1wY8m33vJtUZZVp//8QAFhEBAQEAAAAAAAAAAAAAAAAAABIQ/9oACAEDAQE/AclL/8QAGBEBAAMBAAAAAAAAAAAAAAAAAAEREiH/2gAIAQIBAT8BdW1L/8QAHhAAAgEDBQAAAAAAAAAAAAAAAREAAiExECBBUZH/2gAIAQEABj8C25hvjS0qpYTPEbHkCIFup//EABwQAQACAgMBAAAAAAAAAAAAAAEAESExUWGBcf/aAAgBAQABPyGfh6TLibtmDlcArSCnogyd53ArdlwmiyVlnIEBwxtP/9oADAMBAAIAAwAAABDbyjL/xAAZEQEAAgMAAAAAAAAAAAAAAAABABEQMVH/2gAIAQMBAT8QVxR2SnJ//8QAGBEBAQADAAAAAAAAAAAAAAAAAQAQIWH/2gAIAQIBAT8QBcVmi73/xAAbEAEBAAMBAQEAAAAAAAAAAAABEQAhMUFxkf/aAAgBAQABPxBZNFeHuMBDAHZb91kekZr5gBHYe7cSIE0zAHc52TDCoCGGn5iNjKt99w6clRYWV95lVw0Eg9y9tAId1uf/2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"activity\"\n        title=\"activity\"\n        src=\"/static/1039bfb175833f23d4eae341e9f260de/41689/bottom_sheet.jpg\"\n        srcset=\"/static/1039bfb175833f23d4eae341e9f260de/5fb09/bottom_sheet.jpg 100w,\n/static/1039bfb175833f23d4eae341e9f260de/f544b/bottom_sheet.jpg 200w,\n/static/1039bfb175833f23d4eae341e9f260de/41689/bottom_sheet.jpg 400w,\n/static/1039bfb175833f23d4eae341e9f260de/82472/bottom_sheet.jpg 600w,\n/static/1039bfb175833f23d4eae341e9f260de/a296c/bottom_sheet.jpg 800w,\n/static/1039bfb175833f23d4eae341e9f260de/0ac40/bottom_sheet.jpg 1134w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>調べたら以外と簡単にできた。</p>\n<p>dependenciesを追加。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">dependencies {\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>例</p>\n<div class=\"gatsby-highlight\" data-language=\"xml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-xml line-numbers\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>androidx.coordinatorlayout.widget.CoordinatorLayout</span> <span class=\"token attr-name\">.....</span> <span class=\"token punctuation\">></span></span>\n <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LinearLayout</span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>id</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@+id/bottomSheetLayout<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">android:</span>layout_height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>match_parent<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>behavior_hideable</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>false<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>behavior_peekHeight</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>56dp<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\"><span class=\"token namespace\">app:</span>layout_behavior</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@string/bottom_sheet_behavior<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n 中身\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LinearLayout</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>androidx.coordinatorlayout.widget.CoordinatorLayout</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>bottm sheetにしたいコンテンツ、今回の例ではLinearLayout、のlayout_behaviorを以下のように指定。  </p>\n<p><code class=\"language-text\">app:layout_behavior=&quot;@string/bottom_sheet_behavior</code>  </p>\n<p>CoordinatorLayoutの一番下に配置する。  </p>\n<p>開いたり閉じたりをコードで制御する場合は、activity/fragmentの中で以下のように設定する。</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-kotlin line-numbers\"><code class=\"language-kotlin\">bottomSheetBehavior <span class=\"token operator\">=</span> BottomSheetBehavior<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>bottomSheetLayout<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\">// 隠す</span>\nbottomSheetBehavior<span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> BottomSheetBehavior<span class=\"token punctuation\">.</span>STATE_COLLAPSED\n\n<span class=\"token comment\">// 開く</span>\nbottomSheetBehavior<span class=\"token punctuation\">.</span>state <span class=\"token operator\">=</span> BottomSheetBehavior<span class=\"token punctuation\">.</span>STATE_EXPANDED</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>コールバックも設定できる。  </p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-kotlin line-numbers\"><code class=\"language-kotlin\"> bottomSheetBehavior<span class=\"token punctuation\">.</span><span class=\"token function\">setBottomSheetCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">object</span><span class=\"token operator\">:</span> BottomSheetBehavior<span class=\"token punctuation\">.</span><span class=\"token function\">BottomSheetCallback</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onSlide</span><span class=\"token punctuation\">(</span>p0<span class=\"token operator\">:</span> View<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Float<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not implemented\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//To change body of created functions use File | Settings | File Templates.</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token keyword\">override</span> <span class=\"token keyword\">fun</span> <span class=\"token function\">onStateChanged</span><span class=\"token punctuation\">(</span>p0<span class=\"token operator\">:</span> View<span class=\"token punctuation\">,</span> p1<span class=\"token operator\">:</span> Int<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token function\">TODO</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"not implemented\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//To change body of created functions use File | Settings | File Templates.</span>\n            <span class=\"token punctuation\">}</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>参考<br>\n<a href=\"https://blog.mindorks.com/android-bottomsheet-in-kotlin\">https://blog.mindorks.com/android-bottomsheet-in-kotlin</a><br>\n<a href=\"https://qiita.com/fumiyakawauso/items/1d0fa27aa508a3e0570a\">https://qiita.com/fumiyakawauso/items/1d0fa27aa508a3e0570a</a>  </p>","id":"89f57095-7ab1-5c75-81f9-45fe034cdb5c","tableOfContents":"","frontmatter":{"title":"Bottom Sheetをつける","date":"2020-02-29","tags":["android"]},"fields":{"slug":"/android/bottom_sheet/"}}},{"node":{"excerpt":"これまでフロントエンド/バックエンドしか作ったことなく、ようやくAndroid開発に入門したのだが、 始めのころの情報収集が意外と大変だったので、同じような境遇の人の為にまとめておく。   上からみていくと、フロントエンド/バックエンドしか開発したことがなくても、流れが掴みやすいかと   ライブラリ Android 9.0(API 28)以降では、Android X…","html":"<p>これまでフロントエンド/バックエンドしか作ったことなく、ようやくAndroid開発に入門したのだが、<br>\n始めのころの情報収集が意外と大変だったので、同じような境遇の人の為にまとめておく。  </p>\n<p>上からみていくと、フロントエンド/バックエンドしか開発したことがなくても、流れが掴みやすいかと  </p>\n<h2 id=\"ライブラリ\"><a href=\"#%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA\" aria-label=\"ライブラリ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ライブラリ</h2>\n<p>Android 9.0(API 28)以降では、Android Xというライブラリを使っていく。<br>\nAndroid Xは、Android Jetpackという、ライブラリ群の1部らしい。  </p>\n<p>Android Jetpackとは、  </p>\n<blockquote>\n<p>Jetpack は、高品質の Android アプリをデベロッパーが簡単に作成するための一連のライブラリ、ツール、およびガイダンスです。</p>\n</blockquote>\n<p><a href=\"https://developer.android.com/jetpack?hl=ja\">https://developer.android.com/jetpack?hl=ja</a>  </p>\n<p>Jetpackについては、以下の記事が参考になった。<br>\n<a href=\"https://qiita.com/k_masa777/items/c01c1de6ac763ce5c075\">https://qiita.com/k_masa777/items/c01c1de6ac763ce5c075</a></p>\n<p>検索する際には、古いライブラリの記事が結構出てくるので、Android Xかどうか注意</p>\n<h2 id=\"アーキテクチャ\"><a href=\"#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3\" aria-label=\"アーキテクチャ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アーキテクチャ</h2>\n<p>MVCやクリーンアーキテクチャなどのアーキテクチャがAndroidでも存在する。<br>\nModel-View-ViewModelで構成されるMVVMという構成が主流っぽい  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/22f2f7a027939ec55e1c29294df1cfd4/ec5f3/mvvm.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 27.18707940780619%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA1ElEQVQY001PyQqEUAzz///KkwcVl6OgiPu+4AKuGdLhDVMofTQvaaKN44gsy9B1HaqqQtM0UHVdF8qylF3btsjzHMdx/HBy0zQVjFy2xmUcxzBNU2ZRFJimCeu6ypEgCOA4DizLkjkMA5ZlEZzHKOL7Puq6/gr2fY8kSaTplIJ09jwPtm0TB8Q4oyiS3X3feN9XnPE/eWwm0EjmtXmeZVJIFUl0S4zOKPCPMz5FaOo8TzGi8RGGIVzXlXj7vv8IxDzPg23bMAwDuq5LbMZTgnRNl6o+A+131q3i0z0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"activity\"\n        title=\"activity\"\n        src=\"/static/22f2f7a027939ec55e1c29294df1cfd4/c7805/mvvm.png\"\n        srcset=\"/static/22f2f7a027939ec55e1c29294df1cfd4/c0399/mvvm.png 100w,\n/static/22f2f7a027939ec55e1c29294df1cfd4/9ec3c/mvvm.png 200w,\n/static/22f2f7a027939ec55e1c29294df1cfd4/c7805/mvvm.png 400w,\n/static/22f2f7a027939ec55e1c29294df1cfd4/34e8a/mvvm.png 600w,\n/static/22f2f7a027939ec55e1c29294df1cfd4/ec5f3/mvvm.png 743w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>View: 画面表示<br>\nViewModel: Modelから値を取得、Viewに表示する値を管理<br>\nModel: データモデル、ビジネスロジック  </p>\n<p>ここでのモデルは、DDDのモデルよりも少し多機能な感じ  </p>\n<p>アーキテクチャを一通り紹介していてわかりやすかった。<br>\n<a href=\"https://employment.en-japan.com/engineerhub/entry/2018/01/17/110000\">https://employment.en-japan.com/engineerhub/entry/2018/01/17/110000</a>  </p>\n<p>MVVMの実装する上でわかりやすかった<br>\n<a href=\"https://qiita.com/Tsutou/items/69a28ebbd69b69e51703\">https://qiita.com/Tsutou/items/69a28ebbd69b69e51703</a>  </p>\n<h4 id=\"コードサンプル\"><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB\" aria-label=\"コードサンプル permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コードサンプル</h4>\n<p>MVVM意外にもクリーンアーキテクチャなど、様々なサンプルがあってわかりやすい<br>\n<a href=\"https://github.com/android/architecture-samples\">https://github.com/android/architecture-samples</a><br>\n<a href=\"https://github.com/android10/Android-CleanArchitecture-Kotlin\">https://github.com/android10/Android-CleanArchitecture-Kotlin</a>  </p>\n<h2 id=\"ロジック\"><a href=\"#%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF\" aria-label=\"ロジック permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ロジック</h2>\n<p>Androidでは、APIを叩く、画面表示する、ホスト(Android端末)のリソースを管理するなど、やることが多い。<br>\nまずは、Webアプリケーションにおける、バックエンドに当たる部分について、まとめる。  </p>\n<h3 id=\"http-request\"><a href=\"#http-request\" aria-label=\"http request permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>HTTP Request</h3>\n<p>http clientは、retrofitというライブラリがよく使われてる様子<br>\n<a href=\"https://square.github.io/retrofit/\">https://square.github.io/retrofit/</a>   </p>\n<p>参考<br>\n<a href=\"https://qiita.com/SYABU555/items/3b280a8e81d2cc897383\">https://qiita.com/SYABU555/items/3b280a8e81d2cc897383</a>  </p>\n<h3 id=\"非同期処理\"><a href=\"#%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%87%A6%E7%90%86\" aria-label=\"非同期処理 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>非同期処理</h3>\n<p>APIは非同期で実行したい。Androidでは、UIスレッドと呼ばれる、スレッドがメインスレッドとして動作する。<br>\nUIの描画など、UIスレッドで実行しなければならないものがある。<br>\n別スレッドを起動することも可能だが、非同期処理を行いたい場合は、コルーチンを使うのが主流。  </p>\n<p>コルーチンは、スレッドを作るより軽量で、中断可能な処理を行えるもの。  </p>\n<p>調べると色々出てくるが、使い方については、以下が参考になった。<br>\n<a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html\">https://kotlinlang.org/docs/reference/coroutines/basics.html</a><br>\n<a href=\"https://qiita.com/kawmra/items/ee4acb7db61f70dec9a8\">https://qiita.com/kawmra/items/ee4acb7db61f70dec9a8</a>  </p>\n<h3 id=\"result\"><a href=\"#result\" aria-label=\"result permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Result</h3>\n<p>APIのresponseを受け取る際には、成功/失敗をいい感じにハンドリングしたい。<br>\nkotlinでは、Success/Failureの2つの型を持てるResult型が存在する。  </p>\n<p><a href=\"https://satoshun.github.io/2018/12/result/\">https://satoshun.github.io/2018/12/result/</a><br>\n<a href=\"https://qiita.com/kencharos/items/6fd0a9e92363b08c0340\">https://qiita.com/kencharos/items/6fd0a9e92363b08c0340</a>  </p>\n<p>使ったことないけど、Eitherも使えるライブラリもある<br>\n<a href=\"https://arrow-kt.io/\">https://arrow-kt.io/</a>  </p>\n<h3 id=\"db\"><a href=\"#db\" aria-label=\"db permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DB</h3>\n<p>Androidでは、SQLiteが使えます。APIをキャッシュするような使い方も可能です。<br>\nAndroid JetpackにRoomというライブラリがあるので、それを使います。  </p>\n<p>単純な使い方はググればいくらでも出てくるので、それ以外の通常の開発に必要なものを羅列します。</p>\n<p>オブジェクト間のリレーションを定義する<br>\n<a href=\"https://developer.android.com/training/data-storage/room/relationships?hl=ja\">https://developer.android.com/training/data-storage/room/relationships?hl=ja</a>  </p>\n<p>Roomで1対多を実現する<br>\n<a href=\"https://medium.com/@star_zero/room%E3%81%A71%E5%AF%BE%E5%A4%9A%E3%82%92%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8B-fa27615345ba\">https://medium.com/@star_zero/room%E3%81%A71%E5%AF%BE%E5%A4%9A%E3%82%92%E5%AE%9F%E7%8F%BE%E3%81%99%E3%82%8B-fa27615345ba</a>  </p>\n<p>型コンバーターを使用する<br>\n<a href=\"https://developer.android.com/training/data-storage/room/referencing-data?hl=ja#type-converters\">https://developer.android.com/training/data-storage/room/referencing-data?hl=ja#type-converters</a>  </p>\n<p>特定の列をインデックスに登録する<br>\n<a href=\"https://developer.android.com/training/data-storage/room/defining-data?hl=ja#column-indexing\">https://developer.android.com/training/data-storage/room/defining-data?hl=ja#column-indexing</a>  </p>\n<h4 id=\"androidに保存した、データをみたいとき\"><a href=\"#android%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%80%81%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%81%BF%E3%81%9F%E3%81%84%E3%81%A8%E3%81%8D\" aria-label=\"androidに保存した、データをみたいとき permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Androidに保存した、データをみたいとき</h4>\n<p>Android Studioの(通常)右下にあるDevice File Explorerを選択。<br>\nエミュレーター内のファイルを見ることができるので、<code class=\"language-text\">data/ data/“package_name”/databases</code>にある<br>\n以下のファイル群を保存。  </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">database_name\ndatabase_name-shm\ndatabase_name-wal</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>SQLite用のクライアントを使って中身を確認することができる。  </p>\n<p>クライアント<br>\n<a href=\"https://sqlitebrowser.org/dl/\">https://sqlitebrowser.org/dl/</a>  </p>\n<h2 id=\"ui\"><a href=\"#ui\" aria-label=\"ui permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>UI</h2>\n<p>Androidでは、基本的に、Activieにロジックを記述し、Activityとxmlで記述されたlayoutが1対1で対応し1つの画面を構成する。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bc8383fdef82206d8d8a6b97f7916914/ef0f6/activity-layout.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.04633204633204%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAABIUlEQVQY02WRW2vCQBBG/f9/RfDFR6tUoTXGtjYIUgq2VRONuZlsjOamp2NQIu3C2ZllhwPfbgNZ5/OZrChI87xGzuXpVN3dkEnK8kSa5hXHa02z4noPjcsWuC7WeIxrGBX+dMpyOMRbrfi7PPsLz9QJ7XeUYxBuJmwXOioKaqFjmihNY93rsex0sKQGgwHmbMYxy4jjmGS/R8UH7KUBsUbuPxMsHkDp0j+x87e10F2vUaMRs3ab12aTSauFJ0JLhPHhQBSGKBWxC2M2F2HyQmT1+XxrcQ51ikBjF9wJHRGaIvBEesGX+D/dLtv5/F9kx/ogWPVRtkbijFCbIc73owidWljKByQSa3+PUmQS9/ZpFdJnWSrx5QmSuK5CWZbV7C84m8NvqFQyLgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"activity\"\n        title=\"activity\"\n        src=\"/static/bc8383fdef82206d8d8a6b97f7916914/c7805/activity-layout.png\"\n        srcset=\"/static/bc8383fdef82206d8d8a6b97f7916914/c0399/activity-layout.png 100w,\n/static/bc8383fdef82206d8d8a6b97f7916914/9ec3c/activity-layout.png 200w,\n/static/bc8383fdef82206d8d8a6b97f7916914/c7805/activity-layout.png 400w,\n/static/bc8383fdef82206d8d8a6b97f7916914/ef0f6/activity-layout.png 518w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>これでは、Activityが肥大化してしまうので、MVVMでは、1つのActivityに複数の画面(Fragment)を持たせる。<br>\nAcitivtyでは画面の構成、Fragmentでは各画面のロジックのみを持つ。  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f900aa7e24081257e0fe5e0394e3b466/74efd/activity-fragment.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.605442176870746%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQoz32SiW7aQBCGef+XSRQlFalS5RQphFJyAA1ncGwwXtbn2gZj+Lo4rZse6kijX6ud/fTvzFT4I3a7XZn6hCMDpgsfU4SFLr2wrF2vEjxnSOxPUe4Lnnih8h7wO6zA8zia8aExoFp/ptoc0x3PWCUxq3WGFCbJ4grP+ISanRPMbqmwf/wuf8Eg9D1a36ZU70ac1DqFdscW6R64egNGs0vk9IzQOsczaxqoY/suf4bv+6RpQqgShP6mG6hCozgpazabDN+1iUNBFDgEnkNFGgZ2s4n79IRot3GGQ4IwJEneHk7nS7qGpG+5hVqOW7RiH4kK8OwHYrdHLDu4dpeKNxoxOT7m6eAA8/SUwdUVlm2jlML3JF/7rxzedDm4bHN0+8zj0CTwXcJIsZhPyJbXLCdVlHWGWugeLjXw9eIC8+YG6/oa6+EBLwjIN3nhom841Hozah2DW61jS5QOVSSLQYTzzxpWR1pNKtl6TRrHrNOUldaNPm+3W6SU5HlOpJ06S4n0/EKVisseZlnGUth4rsCVjk7xNpR/xR7quZLeZE5jIGgOHep9h5HpsNXD0Nd6C0ThLBV3rOQd/vzL//dwl2+4H1gc1Xoc6h6e1Pt09B5Gga+d6+nbU3K3hnz5SDw/JxGNvx2WsB861o5aQ5v7kV2oMRdlbaJ0G4wGwaKt3bVYGC2+AztJO6pkh1uXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"activity\"\n        title=\"activity\"\n        src=\"/static/f900aa7e24081257e0fe5e0394e3b466/c7805/activity-fragment.png\"\n        srcset=\"/static/f900aa7e24081257e0fe5e0394e3b466/c0399/activity-fragment.png 100w,\n/static/f900aa7e24081257e0fe5e0394e3b466/9ec3c/activity-fragment.png 200w,\n/static/f900aa7e24081257e0fe5e0394e3b466/c7805/activity-fragment.png 400w,\n/static/f900aa7e24081257e0fe5e0394e3b466/34e8a/activity-fragment.png 600w,\n/static/f900aa7e24081257e0fe5e0394e3b466/74efd/activity-fragment.png 735w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>また、Fragmentは、 コンポーネントの用に複数のFragmentを用いて、1つの画面を構成するという使い方もできる。  </p>\n<p>activityとfragmentはそれぞれ異なるライフサイクルを持ち、<br>\n例えば、画面の回転や、List表示する為のデータの保持などの場合に考慮する必要がある。  </p>\n<p>activityのライフサイクル\n<a href=\"https://developer.android.com/guide/components/activities/activity-lifecycle?hl=ja#alc\">https://developer.android.com/guide/components/activities/activity-lifecycle?hl=ja#alc</a></p>\n<p>fragmentのライフサイクル\n<a href=\"https://developer.android.com/guide/components/fragments?hl=ja#Creating\">https://developer.android.com/guide/components/fragments?hl=ja#Creating</a></p>\n<h3 id=\"layout\"><a href=\"#layout\" aria-label=\"layout permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Layout</h3>\n<p>コンポーネントを単純に縦横に並べるだけなら、LinearLayoutで良い。<br>\n細かく指定したい場合は、ConstraintLayoutが便利。  </p>\n<p>位置の指定の仕方に始めは、戸惑うが以下がわかれば簡単。   </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">app:layout_constraint[自分の辺]_to[相手の辺]Of=&quot;@+id/相手のid&quot;</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>さらに詳しくは、以下の記事が参考になった。<br>\n[Android] ConstraintLayout レイアウト逆引きまとめ<br>\n<a href=\"https://qiita.com/tktktks10/items/62d85dabac4bdb8c1f94\">https://qiita.com/tktktks10/items/62d85dabac4bdb8c1f94</a>  </p>\n<h3 id=\"データバインディング\"><a href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%83%90%E3%82%A4%E3%83%B3%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0\" aria-label=\"データバインディング permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>データバインディング</h3>\n<p>Android Jetpackの提供する、データバインディングライブラリを使う。<br>\nWebアプリケーションでは、HTMLとロジック間でデータをバインディングしリアルタイムで表示を変えたりなどを行う。<br>\nデータバインディングライブラリを使うことで、同様のことが実現できる。  </p>\n<p>データバインディング<br>\n<a href=\"https://developer.android.com/topic/libraries/data-binding/?hl=ja\">https://developer.android.com/topic/libraries/data-binding/?hl=ja</a>  </p>\n<h3 id=\"アイコン\"><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\" aria-label=\"アイコン permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アイコン</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">res &gt; vector &gt; ....</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>でアイコンの追加が行える。<br>\n意外と出てこなくてハマった。  </p>\n<h4 id=\"font-awesome使う場合\"><a href=\"#font-awesome%E4%BD%BF%E3%81%86%E5%A0%B4%E5%90%88\" aria-label=\"font awesome使う場合 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>font-awesome使う場合</h4>\n<p>以下の記事が参考になった<br>\n<a href=\"https://www.androidhive.info/2019/06/use-font-awesome-icons-android/\">https://www.androidhive.info/2019/06/use-font-awesome-icons-android/</a>  </p>\n<p><a href=\"https://fontawesome.com/icons?d=gallery\">https://fontawesome.com/icons?d=gallery</a>  </p>\n<h3 id=\"アニメーション\"><a href=\"#%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\" aria-label=\"アニメーション permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>アニメーション</h3>\n<p>メニューのアコーディオンや、移動など単純なアニメーションは、<br>\n<code class=\"language-text\">res/anim/sample.xml</code>を配置し、実現できる。  </p>\n<p>移動アニメーションの例<br>\n<a href=\"https://akira-watson.com/android/translate-animation.html\">https://akira-watson.com/android/translate-animation.html</a>   </p>\n<h3 id=\"paging\"><a href=\"#paging\" aria-label=\"paging permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Paging</h3>\n<p>リストを描画し、無限スクロールさせたい場面は多いと思う。<br>\nViewModelとPaging library、RecyclerViewを使って実現できる。  </p>\n<p>以下の記事が参考になった。  </p>\n<p>Android Jetpack 初級 ( Paging library + LiveData + Retrofitで、簡単無限スクロール)<br>\n<a href=\"https://qiita.com/Tsutou/items/bae47cf55292f3349284#livedata\">https://qiita.com/Tsutou/items/bae47cf55292f3349284#livedata</a>  </p>\n<p>Paging Library + API でページング処理<br>\n<a href=\"https://medium.com/@star_zero/paging-library-api-%E3%81%A7%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%E5%87%A6%E7%90%86-5e68543e7031\">https://medium.com/@star_zero/paging-library-api-%E3%81%A7%E3%83%9A%E3%83%BC%E3%82%B8%E3%83%B3%E3%82%B0%E5%87%A6%E7%90%86-5e68543e7031</a><br>\n<a href=\"https://github.com/STAR-ZERO/paging-retrofit-sample\">https://github.com/STAR-ZERO/paging-retrofit-sample</a>  </p>\n<p>コードサンプル<br>\n<a href=\"https://github.com/Tsutou/PagingLiveData\">https://github.com/Tsutou/PagingLiveData</a>  </p>\n<p>APIを叩きつつ、DBにキャッシュする例<br>\n<a href=\"https://medium.com/@star_zero/paging-library-api-%E3%83%87%E3%83%BC%E3%82%BF%E8%BF%BD%E5%8A%A0-%E5%89%8A%E9%99%A4-eae42d0853cb\">https://medium.com/@star_zero/paging-library-api-%E3%83%87%E3%83%BC%E3%82%BF%E8%BF%BD%E5%8A%A0-%E5%89%8A%E9%99%A4-eae42d0853cb</a>  </p>\n<h2 id=\"firebase\"><a href=\"#firebase\" aria-label=\"firebase permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>firebase</h2>\n<p>Authenticationやデータベースなどが簡単に使える。<br>\nGoogleアカウントでのログインを行いたい場合など便利  </p>\n<p>Android プロジェクトに Firebase を追加する<br>\n<a href=\"https://firebase.google.com/docs/android/setup?hl=ja\">https://firebase.google.com/docs/android/setup?hl=ja</a>  </p>\n<h2 id=\"リリース\"><a href=\"#%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9\" aria-label=\"リリース permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リリース</h2>\n<p><a href=\"https://developer.android.com/studio/publish/preparing?hl=ja\">https://developer.android.com/studio/publish/preparing?hl=ja</a></p>","id":"13ac91b5-cdff-5687-9737-38aa286e8707","tableOfContents":"<ul>\n<li><a href=\"/android/dev_summary/#%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA\">ライブラリ</a></li>\n<li>\n<p><a href=\"/android/dev_summary/#%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3\">アーキテクチャ</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/android/dev_summary/#%E3%82%B3%E3%83%BC%E3%83%89%E3%82%B5%E3%83%B3%E3%83%97%E3%83%AB\">コードサンプル</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/android/dev_summary/#%E3%83%AD%E3%82%B8%E3%83%83%E3%82%AF\">ロジック</a></p>\n<ul>\n<li><a href=\"/android/dev_summary/#http-request\">HTTP Request</a></li>\n<li><a href=\"/android/dev_summary/#%E9%9D%9E%E5%90%8C%E6%9C%9F%E5%87%A6%E7%90%86\">非同期処理</a></li>\n<li><a href=\"/android/dev_summary/#result\">Result</a></li>\n<li>\n<p><a href=\"/android/dev_summary/#db\">DB</a></p>\n<ul>\n<li><a href=\"/android/dev_summary/#android%E3%81%AB%E4%BF%9D%E5%AD%98%E3%81%97%E3%81%9F%E3%80%81%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E3%81%BF%E3%81%9F%E3%81%84%E3%81%A8%E3%81%8D\">Androidに保存した、データをみたいとき</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/android/dev_summary/#ui\">UI</a></p>\n<ul>\n<li><a href=\"/android/dev_summary/#layout\">Layout</a></li>\n<li><a href=\"/android/dev_summary/#%E3%83%87%E3%83%BC%E3%82%BF%E3%83%90%E3%82%A4%E3%83%B3%E3%83%87%E3%82%A3%E3%83%B3%E3%82%B0\">データバインディング</a></li>\n<li>\n<p><a href=\"/android/dev_summary/#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\">アイコン</a></p>\n<ul>\n<li><a href=\"/android/dev_summary/#font-awesome%E4%BD%BF%E3%81%86%E5%A0%B4%E5%90%88\">font-awesome使う場合</a></li>\n</ul>\n</li>\n<li><a href=\"/android/dev_summary/#%E3%82%A2%E3%83%8B%E3%83%A1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3\">アニメーション</a></li>\n<li><a href=\"/android/dev_summary/#paging\">Paging</a></li>\n</ul>\n</li>\n<li><a href=\"/android/dev_summary/#firebase\">firebase</a></li>\n<li><a href=\"/android/dev_summary/#%E3%83%AA%E3%83%AA%E3%83%BC%E3%82%B9\">リリース</a></li>\n</ul>","frontmatter":{"title":"Webアプリケーションしか作ったことがない人がAndroidの開発を始めたときの情報収集の流れ","date":"2020-02-27","tags":["android"]},"fields":{"slug":"/android/dev_summary/"}}},{"node":{"excerpt":"はじめに Vuetifyは、Vue.jsで使えるマテリアルデザインのフレームワークです。 https://vuetifyjs.com/ja/ マテリアルデザインに入門すべく、Vuetifyを使って読んだ本を管理するサービスを作ってみました。 Book Storage 簡単にマテリアルデザインを使えるVuetify…","html":"<h2 id=\"はじめに\"><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\" aria-label=\"はじめに permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はじめに</h2>\n<p>Vuetifyは、Vue.jsで使えるマテリアルデザインのフレームワークです。<br>\n<a href=\"https://vuetifyjs.com/ja/\">https://vuetifyjs.com/ja/</a></p>\n<p>マテリアルデザインに入門すべく、Vuetifyを使って読んだ本を管理するサービスを作ってみました。</p>\n<p><a href=\"https://bookstrage.edgwbs.net\">Book Storage</a></p>\n<img width=\"500\" height=\"300\" alt=\"bookstrage-test.mov.gif\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/b07210d9-39e5-9f8f-44b2-313055068483.gif\">\n<p>簡単にマテリアルデザインを使えるVuetifyですが、以下のような特徴があります。</p>\n<ul>\n<li>ボタンやカードなどのマテリアルデザインのコンポーネントが用意してあり、簡単に利用できる</li>\n<li>flexboxをラップしたグリッドシステムがあり、レスポンシブ対応が容易</li>\n<li>コンポーネントとグリッドシステムを用いることで、cssを(ほとんど)書く必要がない</li>\n<li>マテリアルデザインの仕様であるフォント(Roboto Font)、アイコンが利用できる</li>\n</ul>\n<p>ドキュメントが充実しており、基本的にドキュメントを見ると簡単に使えるという印象です。ドキュメントはjavascriptで書かれているため、typescriptで使う場合には、読み換える必要があります。</p>\n<p>サポートブラウザはドキュメントを参照<br>\n<a href=\"https://vuetifyjs.com/ja/getting-started/quick-start#supported-browsers\">https://vuetifyjs.com/ja/getting-started/quick-start#supported-browsers</a></p>\n<p>2019年7月にv2.0.0がリリースされ、旧バージョン(v1.5.0)から記法が大きく変わったので、その際に注意する点も含め紹介していきます。</p>\n<h2 id=\"インストール\"><a href=\"#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"インストール permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>インストール</h2>\n<p><code class=\"language-text\">vue cli 3</code>を使うと楽ということなのでvue cliを使ってインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ vue --version\n<span class=\"token number\">3.9</span>.1</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>typescriptのプロジェクトを作成します. </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ vue create my-app</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>vuetifyを追加する.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash=\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash= line-numbers\"><code class=\"language-bash=\">$ cd my-app\n$ vue add vuetify</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>すると以下のような選択肢が表示される. Defaultを選択すると、ツリーシェイキングなどの機能が追加された形で追加される.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash=\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash= line-numbers\"><code class=\"language-bash=\">$ ? Choose a preset: (Use arrow keys)\n$ &gt; Default (recommended)\n$   Prototype (rapid development)\n$   Configure (advanced)</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ツリーシェイキングについては、こちらの記事がわかりやすかったです。<br>\n<a href=\"https://qiita.com/genshun9/items/4a00aa6c709b9f024821\">https://qiita.com/genshun9/items/4a00aa6c709b9f024821</a></p>\n<p>ツリーシェイキングはwebpack4から利用でき、<code class=\"language-text\">vue cli3</code>はwebpack4上に構築されるため、<code class=\"language-text\">vue cli3</code>を利用していると自動で利用できるようになります。vuetifyのバージョンは<code class=\"language-text\">2.0.0</code>。</p>\n<p>package.json</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\">  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"vuetify\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^2.0.0\"</span><span class=\"token punctuation\">,</span>\n    ..\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>フォントの追加も行います。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> @mdi/font -D</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>vuetifyを追加すると、新たに<code class=\"language-text\">src/plugins/vuetify.ts</code>が追加されます。</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> Vue <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Vuetify <span class=\"token keyword\">from</span> <span class=\"token string\">'vuetify/lib'</span><span class=\"token punctuation\">;</span>\n\nVue<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>Vuetify<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Vuetify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  icons<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    iconfont<span class=\"token punctuation\">:</span> <span class=\"token string\">'mdi'</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>ここで起動すると、コンパイルエラーが出ていたので、tsconfigに以下を追加すると、うまく動くようになりました。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token property\">\"compilerOptions\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"types\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"vuetify\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<h3 id=\"既存のプロジェクトへの追加\"><a href=\"#%E6%97%A2%E5%AD%98%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%B8%E3%81%AE%E8%BF%BD%E5%8A%A0\" aria-label=\"既存のプロジェクトへの追加 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>既存のプロジェクトへの追加</h3>\n<p>yarnもしくはnpmを使いインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash=\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash= line-numbers\"><code class=\"language-bash=\">$ yarn add vuetify\n// OR\n$ npm install vuetify --save</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>上記の<code class=\"language-text\">src/plugins/vuetify.ts</code>を新たに作成。</p>\n<p>詳しくはドキュメントを参考<br>\n<a href=\"https://vuetifyjs.com/ja/getting-started/quick-start\">https://vuetifyjs.com/ja/getting-started/quick-start</a></p>\n<h2 id=\"grid-system\"><a href=\"#grid-system\" aria-label=\"grid system permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Grid System</h2>\n<p>vuetifyを使うには、全体を<code class=\"language-text\">&lt;v-app&gt;</code>で囲みます。</p>\n<p>はじめに読み込まれるコンポーネントに以下のように書けば良いかと思います。</p>\n<div class=\"gatsby-highlight\" data-language=\"haml\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-haml line-numbers\"><code class=\"language-haml\"><span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span></span>\n    <span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-app</span><span class=\"token punctuation\">></span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-header</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-header</span><span class=\"token punctuation\">></span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>router-view</span><span class=\"token punctuation\">/></span></span></span>\n        <span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-footer</span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-footer</span><span class=\"token punctuation\">></span></span></span>\n    <span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-app</span><span class=\"token punctuation\">></span></span></span>\n<span class=\"token markup\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>基本的には、以下の例のように<code class=\"language-text\">v-container</code>、<code class=\"language-text\">v-row</code>、<code class=\"language-text\">v-col</code>の順番で囲む形になります。旧バージョンで利用していた<code class=\"language-text\">v-flex</code>や<code class=\"language-text\">v-layout</code>などの記法の代わりに、<code class=\"language-text\">v-row</code>、<code class=\"language-text\">v-col</code>を使うので注意です。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>template</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-container</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-row</span><span class=\"token punctuation\">></span></span>\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-col</span> <span class=\"token attr-name\">cols</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>12</span><span class=\"token punctuation\">></span></span>\n          コンテンツ\n        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-col</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-row</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-container</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>template</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">v-container</code>はコンテンツを中央揃えおよび水平方向にパディングにします。 </p>\n<p>gridは、Bootstrapと同様、12個のgridがあります。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-col</span> <span class=\"token attr-name\">cols</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>12</span><span class=\"token punctuation\">></span></span>\n    ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-col</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>colsプロパティを使い、gridを指定します。また、スマホ、PC用など、5つのブレークポイントが用意されており、colsに加え、ブレークポイントごとにgridが設定可能です。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-col</span> <span class=\"token attr-name\">cols</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>12<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">lg</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>6<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">md</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>6<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">sm</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>6<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    ...\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-col</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>各ブレイクポイントは以下</p>\n<img width=\"912\" alt=\"&#x30B9;&#x30AF;&#x30EA;&#x30FC;&#x30F3;&#x30B7;&#x30E7;&#x30C3;&#x30C8; 2019-08-24 22.19.08.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/f5e7c331-b67c-e639-9b38-adf75d9fb55f.png\">\n<p>gridの指定でハマったポイントは、こちらの記事を参考<br>\n<a href=\"https://qiita.com/iss-f/items/a86586de095368cdd9a3\">https://qiita.com/iss-f/items/a86586de095368cdd9a3</a></p>\n<p>詳しい部分は、grid system ドキュメントを参照<br>\n<a href=\"https://vuetifyjs.com/ja/components/grids\">https://vuetifyjs.com/ja/components/grids</a></p>\n<h2 id=\"コンポーネント\"><a href=\"#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88\" aria-label=\"コンポーネント permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コンポーネント</h2>\n<p>マテリアルデザイン仕様のカードやボタンなどのコンポーネントが用意されています. 色やサイズ、アニメーションなどcssを書かずに設定ができます。 各コンポーネントが受け取れるプロパティやイベントなどは、ドキュメントに詳しく記載してあります。</p>\n<p>ここでは、 基本的なコンポーネントをいくつか挙げていきます。</p>\n<h3 id=\"card\"><a href=\"#card\" aria-label=\"card permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>card</h3>\n<img width=\"364\" alt=\"&#x30B9;&#x30AF;&#x30EA;&#x30FC;&#x30F3;&#x30B7;&#x30E7;&#x30C3;&#x30C8; 2019-08-25 19.16.21.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/9e372d1d-5940-c116-bd5d-b484706e32ec.png\">\n<p>マテリアルデザインでよく見るカードは以下のように作ることができます。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-card</span>\n    <span class=\"token attr-name\">max-width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>344<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>mx-auto<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-card-title</span><span class=\"token punctuation\">></span></span>I'm a title<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-card-title</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-card-text</span><span class=\"token punctuation\">></span></span>I'm card text<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-card-text</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-card-actions</span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span> <span class=\"token attr-name\">text</span><span class=\"token punctuation\">></span></span>Click<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-card-actions</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-card</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">v-card-title</code>、<code class=\"language-text\">v-card-text</code>には、それぞれタイトル用本文用に、フォントサイズやpaddingが設定してあります。 <code class=\"language-text\">v-card-action</code>には、クリックイベントなどのアクションを設定します。 </p>\n<h3 id=\"button\"><a href=\"#button\" aria-label=\"button permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Button</h3>\n<p><code class=\"language-text\">v-btn</code>タグを使い、波紋の広がるアニメーションがついたボタンが作成できます。</p>\n<img width=\"120\" alt=\"vuetify-button-1.mov.gif\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/0a2998e9-1b92-691a-10da-1ac8b41b3ca9.gif\">\n<p>シンプルな例は以下の通り。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span> <span class=\"token attr-name\">medium</span> <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>warning<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dark</span><span class=\"token punctuation\">></span></span>Normal Button<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">small</code>, <code class=\"language-text\">medium</code> などのプロパティでボタンサイズが指定可能です。bootstrap同様、<code class=\"language-text\">info</code>、<code class=\"language-text\">primary</code>などで色の指定も可能。</p>\n<img width=\"170\" alt=\"&#x30B9;&#x30AF;&#x30EA;&#x30FC;&#x30F3;&#x30B7;&#x30E7;&#x30C3;&#x30C8; 2019-08-25 19.18.00.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/0605dce5-0905-aeb8-43b2-16266533ddad.png\">\n<p>また、その他タグを使い細かい色の指定も可能です。これらのタグは、ボタン以外のコンポーネントでも使用可能です。</p>\n<img width=\"763\" alt=\"&#x30B9;&#x30AF;&#x30EA;&#x30FC;&#x30F3;&#x30B7;&#x30E7;&#x30C3;&#x30C8; 2019-08-25 19.49.17.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/5d0aa9c3-a0a6-ea8e-6d9a-39787a2bfbec.png\">\n<p>その他の色は、ドキュメントを参照<br>\n<a href=\"https://vuetifyjs.com/ja/styles/colors\">https://vuetifyjs.com/ja/styles/colors</a></p>\n<h4 id=\"outlined-button\"><a href=\"#outlined-button\" aria-label=\"outlined button permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>outlined button</h4>\n<p>色抜きのボタンにする場合には、outlinedプロパティを使います。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span> <span class=\"token attr-name\">medium</span> <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>warning<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">dark</span> <span class=\"token attr-name\">outlined</span><span class=\"token punctuation\">></span></span>Normal Button<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>v2.0.0からoutlinedとなり、outlineプロパティは廃止されたので注意です。</p>\n<h4 id=\"floating-button\"><a href=\"#floating-button\" aria-label=\"floating button permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>floating button</h4>\n<p><code class=\"language-text\">fab</code>プロパティを追加することで、フローティングボタンを作成することができます。</p>\n<img width=\"441\" alt=\"&#x30B9;&#x30AF;&#x30EA;&#x30FC;&#x30F3;&#x30B7;&#x30E7;&#x30C3;&#x30C8; 2019-08-25 19.29.29.png\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/8af6da08-4cf2-3913-95bc-fd2f9bacf87c.png\">\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span> <span class=\"token attr-name\">fab</span> <span class=\"token attr-name\">dark</span> <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>indigo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-icon</span> <span class=\"token attr-name\">dark</span><span class=\"token punctuation\">></span></span>mdi-plus<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-icon</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h4 id=\"loading-button\"><a href=\"#loading-button\" aria-label=\"loading button permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>loading button</h4>\n<p>loadingプロパティにboolean値を設定することで、trueの場合にローディングアニメーションが現れるようにすることもできます。</p>\n<img width=\"220\" height=\"80\" alt=\"vuetify-button-loading.mov.gif\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/b06e729d-2e15-5245-b81c-cd035403b093.gif\">\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-btn</span> \n    <span class=\"token attr-name\">:loading</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>loading<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">medium</span> \n    <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>warning<span class=\"token punctuation\">\"</span></span> \n    <span class=\"token attr-name\">dark</span>\n    <span class=\"token punctuation\">></span></span>\n        Loading Button\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-btn</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>その他の設定は、ドキュメントを参照<br>\n<a href=\"https://vuetifyjs.com/ja/components/buttons\">https://vuetifyjs.com/ja/components/buttons</a></p>\n<h2 id=\"pagination\"><a href=\"#pagination\" aria-label=\"pagination permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Pagination</h2>\n<img width=\"260\" height=\"60\" alt=\"vuetify-pagenation.mov.gif\" src=\"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/204896/0492897b-eb87-16ac-7b39-d291c2fef14a.gif\">\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>v-pagination</span>\n    <span class=\"token attr-name\">v-model</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>page<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">:length</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>15<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">:total-visible</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>7<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">@input</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>paginate()<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>v-pagination</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>v-modelに現在のページ番号を設定します。lengthプロパティは全ページ数、total-visibleで表示するページングボタンの数を指定。クリックイベントで、ページングボタン押下時の挙動を設定して使うことが多いかと思います。 </p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Vue.jsのマテリアルデザインのフレームワークである、Vuetifyを使ってサービスを作って見ました。簡単にマテリアルデザインに入門できて、おすすめです。</p>\n<p>ここで紹介した以外にも便利なコンポーネントが多数用意してあるのでドキュメント読んでみてください。</p>","id":"f1368854-f18e-5bcf-8a87-bb57a7f93883","tableOfContents":"<ul>\n<li><a href=\"/edgwbs/book_storage_vuetify/#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\">はじめに</a></li>\n<li>\n<p><a href=\"/edgwbs/book_storage_vuetify/#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\">インストール</a></p>\n<ul>\n<li><a href=\"/edgwbs/book_storage_vuetify/#%E6%97%A2%E5%AD%98%E3%81%AE%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%B8%E3%81%AE%E8%BF%BD%E5%8A%A0\">既存のプロジェクトへの追加</a></li>\n</ul>\n</li>\n<li><a href=\"/edgwbs/book_storage_vuetify/#grid-system\">Grid System</a></li>\n<li>\n<p><a href=\"/edgwbs/book_storage_vuetify/#%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88\">コンポーネント</a></p>\n<ul>\n<li><a href=\"/edgwbs/book_storage_vuetify/#card\">card</a></li>\n<li>\n<p><a href=\"/edgwbs/book_storage_vuetify/#button\">Button</a></p>\n<ul>\n<li><a href=\"/edgwbs/book_storage_vuetify/#outlined-button\">outlined button</a></li>\n<li><a href=\"/edgwbs/book_storage_vuetify/#floating-button\">floating button</a></li>\n<li><a href=\"/edgwbs/book_storage_vuetify/#loading-button\">loading button</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/edgwbs/book_storage_vuetify/#pagination\">Pagination</a></li>\n<li><a href=\"/edgwbs/book_storage_vuetify/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","frontmatter":{"title":"Vue.js+typescriptでVuetifyを使いマテリアルデザインに入門する","date":"2019-11-08","tags":["vue.js","WebApp","vuetify"]},"fields":{"slug":"/edgwbs/book_storage_vuetify/"}}},{"node":{"excerpt":"これまでHugoを使っていたが、gatsbyを使ってみようと思います。\nhttps://www.gatsbyjs.org/ gatsbyは、react製の静的サイトジェネレーターです。PWAやOGPなどがあらかじめ設定してあり(themeによる？)便利です。また、記事などの任意のデータ取得のためのインターフェスとしてGraphQLを使用しているのが特徴です。(GraphQL…","html":"<p>これまでHugoを使っていたが、gatsbyを使ってみようと思います。\n<a href=\"https://www.gatsbyjs.org/\">https://www.gatsbyjs.org/</a></p>\n<p>gatsbyは、react製の静的サイトジェネレーターです。PWAやOGPなどがあらかじめ設定してあり(themeによる？)便利です。また、記事などの任意のデータ取得のためのインターフェスとしてGraphQLを使用しているのが特徴です。(GraphQLは別途用意する必要はなく、gatsbyのbuild時に作成されます。)<br>\n<a href=\"https://www.gatsbyjs.org/docs/graphql-concepts/\">GraphQL Concepts</a>  </p>\n<p>静的サイトジェネレーター一覧はここがすごいわかりやすかった<br>\n<a href=\"https://www.staticgen.com/\">https://www.staticgen.com/</a></p>\n<p>gatsbyを選んだのは、reactに入門したかったのと、Hugoのテーマがスマホ対応していなかったので手を加えたかったということでタイミングがよかったからです。</p>\n<p>以下に、今回使ったものを備忘録として残しておきます。<br>\nここにあげるもの一通り導入し、デザインを入れれば、基本的な技術ブログが作れるかと思います。</p>\n<h2 id=\"theme\"><a href=\"#theme\" aria-label=\"theme permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>theme</h2>\n<p>今回は、テーマに変更を加える形で作ります。</p>\n<p>テーマは以下から選びます。\n<a href=\"https://www.gatsbyjs.org/starters/?v=2\">https://www.gatsbyjs.org/starters/?v=2</a></p>\n<p>以下のコマンドでテーマ入った状態で、gatsbyのプロジェクトが生成されます。</p>\n<p><code class=\"language-text\">$ gatsby new gatsby-starter-default</code><br>\n<a href=\"https://github.com/gatsbyjs/gatsby-starter-default\">https://github.com/gatsbyjs/gatsby-starter-default</a></p>\n<p>gatsbyのチュートリアルに目を通しつつ、themeに手を加えていきます。</p>\n<h2 id=\"markdownで記事を書く\"><a href=\"#markdown%E3%81%A7%E8%A8%98%E4%BA%8B%E3%82%92%E6%9B%B8%E3%81%8F\" aria-label=\"markdownで記事を書く permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Markdownで記事を書く</h2>\n<p>以下のページを参考にしました。</p>\n<p><a href=\"https://www.gatsbyjs.org/docs/adding-markdown-pages/\">https://www.gatsbyjs.org/docs/adding-markdown-pages/</a><br>\nある程度試して使い方がわかれば、markdownに対応したthemeがあるので、そちらを使った方が楽かと思います。</p>\n<p>以下のようなqueryで一覧が取得できます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">{\n  allMarkdownRemark {\n    edges {\n      node {\n        html\n        headings {\n          depth\n          value\n        }\n        frontmatter {\n          # Assumes you&#39;re using title in your frontmatter.\n          title\n        }\n      }\n    }\n  }\n}</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>日付順にソート、limit、skipを与えることで、ページング処理もできます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">   allMarkdownRemark(\n      sort: { fields: [frontmatter___date], order: DESC }\n      limit: $limit\n      skip: $skip\n    ) {\n    .\n    .</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"icons\"><a href=\"#icons\" aria-label=\"icons permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>icons</h2>\n<p>以下のものがすぐに使えてよかったです。</p>\n<p><a href=\"https://react-icons.netlify.com/#/\">https://react-icons.netlify.com/#/</a><br>\n(emacsがないのが解せぬ…)</p>\n<h2 id=\"コードのハイライト\"><a href=\"#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88\" aria-label=\"コードのハイライト permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>コードのハイライト</h2>\n<p>技術ブログなので、コードのハイライトは必須です。Gatsbyで使えるものがいくつかあるようですが、自分の使う言語に対応していたので以下を使いました。</p>\n<p>Prism: <a href=\"https://prismjs.com/\">https://prismjs.com/</a></p>\n<p>Prismを使ったGatsbyのプラグイン: <a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/\">https://www.gatsbyjs.org/packages/gatsby-remark-prismjs/</a></p>\n<p>gatsby-config.jsには、プラグインの記事に従ってプラグインを追加。<br>\nまた、gatsby-browser.jsに以下を追加</p>\n<p><code class=\"language-text\">require(&quot;prismjs/themes/prism-solarizedlight.css&quot;);</code></p>\n<p>行数を表示するには、更に以下を追加</p>\n<p><code class=\"language-text\">require(&quot;prismjs/plugins/line-numbers/prism-line-numbers.css&quot;);</code></p>\n<p>その他のthemeもあるので好きなのを使う。単一のラインのハイライトや、ハイライト開始/終了の行数指定も可能だが、自前でcssを調節する必要がある。</p>\n<p>コードハイライトにファイル名やタイトルを表示させたかったので、以下を使いました。<br>\n<a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-code-titles/?=gatsby-remark-code-titles\">https://www.gatsbyjs.org/packages/gatsby-remark-code-titles/?=gatsby-remark-code-titles</a></p>\n<p>例</p>\n<div class=\"gatsby-code-title\">test.json</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"test\"</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"katex\"><a href=\"#katex\" aria-label=\"katex permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>katex</h2>\n<p>記事中に数式を書くことがあるので、必要でした。以下のプラグインを使うと簡単にできます。</p>\n<p><a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-katex/\">https://www.gatsbyjs.org/packages/gatsby-remark-katex/</a></p>\n<p><code class=\"language-text\">\\tags</code> 使うとparse errorで怒られる。(v3.1.13)</p>\n<p>前に使って重い印象があったので、使いませんでしたが、mathjaxもあるみたいです。<br>\n<a href=\"https://www.gatsbyjs.org/packages/gatsby-remark-mathjax/\">https://www.gatsbyjs.org/packages/gatsby-remark-mathjax/</a></p>\n<h2 id=\"画像表示\"><a href=\"#%E7%94%BB%E5%83%8F%E8%A1%A8%E7%A4%BA\" aria-label=\"画像表示 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>画像表示</h2>\n<p>markdonwの記事に画像を追加します。\n一般的には、<code class=\"language-text\">![画像タイトル](URL)</code>のように画像を追加しますが、gatsbyではプラグインを入れる必要があります。</p>\n<p><a href=\"https://www.gatsbyjs.org/docs/working-with-images-in-markdown/\">https://www.gatsbyjs.org/docs/working-with-images-in-markdown/</a></p>\n<p>ただ、markdownで画像をリサイズして表示したいときは、どうするのかわからない。自前で作るしかない？？</p>\n<h2 id=\"目次\"><a href=\"#%E7%9B%AE%E6%AC%A1\" aria-label=\"目次 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>目次</h2>\n<p>プラグインgatsby-remark-tocを使うことで目次をつけることができます。ただ、記事のトップにしかつけることができず、Qiitaのようなサイドバーに目次をつけたかったので、以下のようにしました。</p>\n<p>queryに<code class=\"language-text\">tableOfContents</code>を加えると、目次が取得できます。</p>\n<p>例</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">markdownRemark(fields: { slug: { eq: $slug } }) {\n      html\n      frontmatter {\n        title\n        date(formatString: &quot;YYYY-MM-DD&quot;)\n        tags\n      }\n      tableOfContents\n    }\n  }</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>取得したものを表示します。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> tableOfContens <span class=\"token operator\">=</span> props<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>markdownRemarks<span class=\"token punctuation\">.</span>tableOfContents<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">&lt;</span>div dangerouslySetInnerHTML<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>__html<span class=\"token punctuation\">:</span> tableOfContens<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>参考<br>\n<a href=\"https://nakawork.net/posts/gatsby-toc\">https://nakawork.net/posts/gatsby-toc</a></p>\n<p>スクロールで目次のハイライトもスクロールも試したかったけど、それはまた今度</p>\n<h2 id=\"google-analytics\"><a href=\"#google-analytics\" aria-label=\"google analytics permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>google analytics</h2>\n<p><a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-google-analytics/\">https://www.gatsbyjs.org/packages/gatsby-plugin-google-analytics/</a></p>\n<h2 id=\"google-adsense\"><a href=\"#google-adsense\" aria-label=\"google adsense permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>google adsense</h2>\n<p><code class=\"language-text\">$ npm install --save gatsby-plugin-google-adsense</code></p>\n<div class=\"gatsby-highlight\" data-language=\"jsonld=\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-jsonld= line-numbers\"><code class=\"language-jsonld=\">// In your gatsby-config.js file\nplugins: [\n    {\n      resolve: `gatsby-plugin-google-adsense`,\n      options: {\n        publisherId: `ca-pub-xxxxxxxxxx`\n      },\n    },\n]</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>プロジェクトのrootディレクトリにstaticディレクトリを作成。<br>\nstaticディレクトリ以下に、CNAMEファイル、ads.txtを追加。  </p>\n<h2 id=\"サイトマップ\"><a href=\"#%E3%82%B5%E3%82%A4%E3%83%88%E3%83%9E%E3%83%83%E3%83%97\" aria-label=\"サイトマップ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>サイトマップ</h2>\n<p>以下のプラグインを使うことで、build時にsitemap.xmlが生成されます。</p>\n<p><a href=\"https://www.gatsbyjs.org/packages/gatsby-plugin-sitemap/\">https://www.gatsbyjs.org/packages/gatsby-plugin-sitemap/</a></p>\n<h2 id=\"関連記事の表示\"><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E3%81%AE%E8%A1%A8%E7%A4%BA\" aria-label=\"関連記事の表示 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関連記事の表示</h2>\n<p>プラグインがないみたいです。以下の記事が参考になりそうです。今後試してみます。</p>\n<p>参考<br>\n<a href=\"https://khalilstemmler.com/articles/gatsby-related-posts-component/\">https://khalilstemmler.com/articles/gatsby-related-posts-component/</a></p>\n<h2 id=\"github-pages\"><a href=\"#github-pages\" aria-label=\"github pages permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>github pages</h2>\n<p>参考<br>\n<a href=\"https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/\">https://www.gatsbyjs.org/docs/how-gatsby-works-with-github-pages/</a></p>\n<p>subdomainの場合は、以下の手順</p>\n<p>gh-pagesをインストール</p>\n<p><code class=\"language-text\">$ npm install gh-pages --save-dev</code></p>\n<p>以下を追加</p>\n<div class=\"gatsby-code-title\">package.json</div>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"deploy\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gatsby build &amp;&amp; gh-pages -d public\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>デプロイ</p>\n<p><code class=\"language-text\">$ npm run deploy</code></p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>プラグインが豊富で基本的なことは全てプラグインを使えば実現できるので便利。ただ、プラグインに依存しすぎて、バージョン依存の問題とかで盛大に死にそうな未来がうっすら見える。</p>\n<p>GraphQLのコンセプトは面白いし使いやすいけど、コードの中にquery書くのはインデントあわなさすぎてしんどい。<code class=\"language-text\">localhost:8000___graphql</code>でqueryが確認できるのでなんとか頑張れるけど、APIほしかった。</p>\n<p>今後は以下の記事がチューニングの参考になりそう</p>\n<p>GatsbyでGoogle Lighthouseで満点を取るブログを一から作る<br>\n<a href=\"https://qiita.com/so99ynoodles/items/87e136d09644baac634c\">https://qiita.com/so99ynoodles/items/87e136d09644baac634c</a></p>\n<p>Gatsbyプラグイン45選<br>\n<a href=\"https://takumon.github.io/gatsby-starter-qiita/f18d04ac-9b1a-5ac8-8d43-8aa3d8f746a7/\">https://takumon.github.io/gatsby-starter-qiita/f18d04ac-9b1a-5ac8-8d43-8aa3d8f746a7/</a></p>","id":"43a0d69b-293e-5ebf-a1ca-f60ef3277a0b","tableOfContents":"<ul>\n<li><a href=\"/gatsby/gatsby-introduction/#theme\">theme</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#markdown%E3%81%A7%E8%A8%98%E4%BA%8B%E3%82%92%E6%9B%B8%E3%81%8F\">Markdownで記事を書く</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#icons\">icons</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AE%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88\">コードのハイライト</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#katex\">katex</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#%E7%94%BB%E5%83%8F%E8%A1%A8%E7%A4%BA\">画像表示</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#%E7%9B%AE%E6%AC%A1\">目次</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#google-analytics\">google analytics</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#google-adsense\">google adsense</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#%E3%82%B5%E3%82%A4%E3%83%88%E3%83%9E%E3%83%83%E3%83%97\">サイトマップ</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E3%81%AE%E8%A1%A8%E7%A4%BA\">関連記事の表示</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#github-pages\">github pages</a></li>\n<li><a href=\"/gatsby/gatsby-introduction/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","frontmatter":{"title":"技術ブログ用にGatsbyを整える","date":"2019-10-14","tags":["react","gatsby"]},"fields":{"slug":"/gatsby/gatsby-introduction/"}}},{"node":{"excerpt":"Firebase Authenticationに続いて、Firebase Hostingも使ってみました。備忘録を残しておきます。 今回は、Vue.jsをデプロイします。 Firebase Hostingとは Firebase Hosting は、ウェブアプリ、静的コンテンツと動的コンテンツ、マイクロサービス向けの高速で安全性の高いホスティングを提供します。 Firebase Hosting…","html":"<p>Firebase Authenticationに続いて、Firebase Hostingも使ってみました。備忘録を残しておきます。<br>\n今回は、Vue.jsをデプロイします。</p>\n<h2 id=\"firebase-hostingとは\"><a href=\"#firebase-hosting%E3%81%A8%E3%81%AF\" aria-label=\"firebase hostingとは permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Firebase Hostingとは</h2>\n<blockquote>\n<p>Firebase Hosting は、ウェブアプリ、静的コンテンツと動的コンテンツ、マイクロサービス向けの高速で安全性の高いホスティングを提供します。</p>\n</blockquote>\n<blockquote>\n<p>Firebase Hosting はデベロッパー向けの、本番環境レベルのウェブ コンテンツ ホスティングです。1 つのコマンドですばやくウェブアプリをデプロイすることができ、静的コンテンツと動的コンテンツの両方をグローバル CDN（コンテンツ配信ネットワーク）に配信できます。Firebase Hosting と Cloud Functions または Cloud Run を併用してマイクロサービスを構築し、Firebase にホスティングすることもできます。</p>\n</blockquote>\n<p>引用： <a href=\"https://firebase.google.com/docs/hosting?hl=ja\">https://firebase.google.com/docs/hosting?hl=ja</a></p>\n<p>無料で手軽にアプリケーションを公開するにはすごく便利という印象。  </p>\n<p>Firebaseでは、転送量を超えない限り、複数アプリケーションをデプロイできるので、本番環境だけでなく、テスト環境もほしいという場合には有効かと思います。Herokuの無料枠では起動している時間の制限などで実質１アプリケーションしか動かせませんでした。</p>\n<p>また、Hostingで利用できる無料のストレージが１GBですが、ブログなどのようにどんどんコンテンツが増えていくサイトでなければ十分な量だと思います。画像などがある場合は、Firebase Storageなどを利用する手もあるかと思います。</p>\n<p>参考<br>\n<a href=\"https://firebase.google.com/pricing/?hl=ja\">Firebaseの料金体系</a>  </p>\n<p><a href=\"https://medium.com/google-cloud-jp/%E9%9D%99%E7%9A%84%E3%82%B5%E3%82%A4%E3%83%88%E3%83%9B%E3%82%B9%E3%83%86%E3%82%A3%E3%83%B3%E3%82%B0%E3%81%AE%E7%82%BA%E3%81%AEgcs-gae-firebase-hosting%E6%AF%94%E8%BC%83-e7d406609f2e\">静的サイトホスティングの為のGCS/GAE/Firebase Hosting比較</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/6ff5e/logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQ4y82Uy0rDQBSGE4v1hkK1C8UruGitaJWidSFFK67VneDGnUuXgiA+hS/gSnpJmzSZZJI0k+ZSqpZSqgiK6Kt40rrQtthYEIR/MXPgm3POP2eGotJC9/ormK6rG9jBUjyI/i1MA5bMjXIYBAtn6xZOCX0MiiiFqGqsKUZYLvQzCIKu4F4G7RB7SlAnBTUokQWJbGkWBF3AKd7H4ahiUDfsnlk6tO9WsR7G+hgnU63Ft8LQ56KoRWT9ovpwXCoPZyXg4URX8FBWjBN7RlAh8zLWBzLirl4czIodYLgVT533c/KmZs06PWvbxPbXa+5hWq69Ke2nEhyd5OdFbVpQqUQOtk4wyTcn/7qZ4JWARMCboEgg2wiLl7AOnockMs4rcyjvY3EbuDFPAShSs6DD03IV2r56embf3i+rj9cvr/tm6bxSixPLmZm2mUOYxDQLssWIta4aR8X7s0oNDD+5rWzkzQOztCIXvlXeNB7eDALPPAyC43tADIK1l0HgtjctgPN0N0+y8UJ+MOzffAYd9QF0kEMCIaB/ewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"logo\"\n        title=\"logo\"\n        src=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/c7805/logo.png\"\n        srcset=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/c0399/logo.png 100w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/9ec3c/logo.png 200w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/c7805/logo.png 400w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/34e8a/logo.png 600w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/8ff1e/logo.png 800w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/6ff5e/logo.png 1200w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Firebase Hostingを使って公開したアプリはこちら  </p>\n<p><a href=\"https://www.if-blog.site/posts/edgwbs/book_reports_review/\">三行で読書感想文を書いて、SNSでシェアできるサービスを作った</a>  </p>\n<h2 id=\"準備\"><a href=\"#%E6%BA%96%E5%82%99\" aria-label=\"準備 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>準備</h2>\n<p>デプロイ用のコマンドラインツールをインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g firebase-tools</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>以下のコマンドで、firebaseにログインします。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ firebase login</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>プロジェクトで、初めてfirebaseを使う場合には、以下のコマンドでfirebaseを初期化します。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ firebase init</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>初期化すると、<code class=\"language-text\">firebase.json</code>が作成されます。Hostingやstorage、functionsなどのその他のfirebaseの設定を記述します。基本的にはここで生成された<code class=\"language-text\">firebase.json</code>を書き換えることなく利用できます。</p>\n<h2 id=\"デプロイ\"><a href=\"#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\" aria-label=\"デプロイ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>デプロイ</h2>\n<p>生成された<code class=\"language-text\">firebase.json</code>にデプロイ用のディレクトリは、<code class=\"language-text\">public</code>と設定されているので、publicにアプリをビルドします。\nVue.jsのプロジェクトの場合は、以下のようにビルド。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">$ npm run build</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p><code class=\"language-text\">public</code>以下に生成された成果物は、以下のコマンドでfirebaseにデプロイすることができます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-text line-numbers\"><code class=\"language-text\">$ firebase deploy</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<h2 id=\"複数サイトをデプロイする\"><a href=\"#%E8%A4%87%E6%95%B0%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B\" aria-label=\"複数サイトをデプロイする permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>複数サイトをデプロイする</h2>\n<p>本番環境とテスト環境がほしい場合などには、複数サイトをデプロイしたです。<br>\n(別のアプリをデプロイする場合は、プロジェクト変えるよね？普通？本番/テスト以外にどう使うんだろう??)   </p>\n<p><code class=\"language-text\">firebase.json</code>のhostingの項目を以下のように書き換えます。  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"hosting\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"env\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 自分で定義した、一意なアプリの識別子</span>\n      <span class=\"token property\">\"public\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"app/public\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"target\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"prod\"</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// 自分で定義した、一意なアプリの識別子</span>\n      <span class=\"token property\">\"public\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"app/public\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// ...</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>次に以下のコマンドで、<code class=\"language-text\">target</code>名とプロジェクトのサイト名を対応付けます。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># $ firebase target:apply hosting target-name resource-name</span>\n\n$ firebase target:apply hosting <span class=\"token function\">env</span> myapp-blog\n$ firebase target:apply hosting prod myapp-blog</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p>あとは、以下のコマンドでデプロイします。  </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token comment\"># $ firebase deploy --only hosting:target-name</span>\n\n$ firebase deploy --only hosting:env\n$ firebase deploy --only hosting:prod</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"ドメインを設定\"><a href=\"#%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%92%E8%A8%AD%E5%AE%9A\" aria-label=\"ドメインを設定 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ドメインを設定</h2>\n<p>Hostingのサイトの管理、「ドメインを接続」からドメインが設定できます。<br>\n手順どおりで簡単に行なえます。<br>\n証明書が入るまでに少し時間がかかったので気長に待ちましょう。  </p>\n<p>ちなみに、CNAMEでいけるかと思ったけど無理でした。  </p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Firebase Hostingを使って、アプリケーションのデプロイを行いました。<br>\nデプロイは驚くほど簡単でした。ローカルで動いているアプリケーションをそのまま、デプロイできるのが良かったです。  </p>","id":"80ed2171-1f8c-51e5-83d7-8d572041fe39","tableOfContents":"<ul>\n<li><a href=\"/edgwbs/book_reports_hosting/#firebase-hosting%E3%81%A8%E3%81%AF\">Firebase Hostingとは</a></li>\n<li><a href=\"/edgwbs/book_reports_hosting/#%E6%BA%96%E5%82%99\">準備</a></li>\n<li><a href=\"/edgwbs/book_reports_hosting/#%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\">デプロイ</a></li>\n<li><a href=\"/edgwbs/book_reports_hosting/#%E8%A4%87%E6%95%B0%E3%82%B5%E3%82%A4%E3%83%88%E3%82%92%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4%E3%81%99%E3%82%8B\">複数サイトをデプロイする</a></li>\n<li><a href=\"/edgwbs/book_reports_hosting/#%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%82%92%E8%A8%AD%E5%AE%9A\">ドメインを設定</a></li>\n<li><a href=\"/edgwbs/book_reports_hosting/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","frontmatter":{"title":"Firebase Hostingを使ってみた","date":"2019-10-09","tags":["firebase","WebApp"]},"fields":{"slug":"/edgwbs/book_reports_hosting/"}}},{"node":{"excerpt":"Vue.jsで作ったWebAppをFirebase Hostingで公開し、そこでTwitter用のOGPを設定しようとしましたが、Twitterのクローラーがjavascriptを解釈できないということで、別途方法を考える必要がありました。そこで、Firebase Cloud Functionsを使ってtwitter：OGPを設定してみようと思います。 Firebase Cloud…","html":"<p>Vue.jsで作ったWebAppをFirebase Hostingで公開し、そこでTwitter用のOGPを設定しようとしましたが、Twitterのクローラーがjavascriptを解釈できないということで、別途方法を考える必要がありました。そこで、Firebase Cloud Functionsを使ってtwitter：OGPを設定してみようと思います。</p>\n<p>Firebase Cloud Functionsとは</p>\n<blockquote>\n<p>Cloud Functions for Firebase を使用すると、Firebase 機能や HTTPS リクエストによってトリガーされたイベントに応じて、バックエンド コードを自動的に実行できます。コードは Google のクラウドに保存され、マネージド環境で実行されます。独自のサーバーを管理およびスケーリングする必要はありません。</p>\n</blockquote>\n<p>引用： <a href=\"https://firebase.google.com/docs/functions/?hl=ja\">https://firebase.google.com/docs/functions/?hl=ja</a></p>\n<p>今回は、HTTPSリクエストをトリガーに使いましたが、FirebaseのDatabaseへの書き込みやGitHubのpush/commitなどもトリガーにできるようです。色々と便利に使えそうです。</p>\n<p>Cloud Functions で可能な処理:<br>\n<a href=\"https://firebase.google.com/docs/functions/use-cases?hl=ja\">https://firebase.google.com/docs/functions/use-cases?hl=ja</a></p>\n<p>Firebase Cloud Functionsで使える言語は、今のところNode.js(javascript)だけのようです。Google CLoud Functionsでは、Node.js(javascript)、python、（Golang）がサポートされているので今後このあたりの言語もサポートされるのではないでしょうか。\nFirebase Cloud Functions用に、javascriptのライブラリが提供されており、どうしても別の言語で書きたいという場合でなければ、不便なく使えるかと思います。</p>\n<p>作ったアプリはこれ。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/6ff5e/logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQ4y82Uy0rDQBSGE4v1hkK1C8UruGitaJWidSFFK67VneDGnUuXgiA+hS/gSnpJmzSZZJI0k+ZSqpZSqgiK6Kt40rrQtthYEIR/MXPgm3POP2eGotJC9/ormK6rG9jBUjyI/i1MA5bMjXIYBAtn6xZOCX0MiiiFqGqsKUZYLvQzCIKu4F4G7RB7SlAnBTUokQWJbGkWBF3AKd7H4ahiUDfsnlk6tO9WsR7G+hgnU63Ft8LQ56KoRWT9ovpwXCoPZyXg4URX8FBWjBN7RlAh8zLWBzLirl4czIodYLgVT533c/KmZs06PWvbxPbXa+5hWq69Ke2nEhyd5OdFbVpQqUQOtk4wyTcn/7qZ4JWARMCboEgg2wiLl7AOnockMs4rcyjvY3EbuDFPAShSs6DD03IV2r56embf3i+rj9cvr/tm6bxSixPLmZm2mUOYxDQLssWIta4aR8X7s0oNDD+5rWzkzQOztCIXvlXeNB7eDALPPAyC43tADIK1l0HgtjctgPN0N0+y8UJ+MOzffAYd9QF0kEMCIaB/ewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"logo\"\n        title=\"logo\"\n        src=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/c7805/logo.png\"\n        srcset=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/c0399/logo.png 100w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/9ec3c/logo.png 200w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/c7805/logo.png 400w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/34e8a/logo.png 600w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/8ff1e/logo.png 800w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/6ff5e/logo.png 1200w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://bookreports.edgwbs.net\">三行読書感想文</a></p>\n<h2 id=\"ogp設定\"><a href=\"#ogp%E8%A8%AD%E5%AE%9A\" aria-label=\"ogp設定 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OGP設定</h2>\n<p>今回は、ページによって設定したいOGPが異なるため、ページごとに動的に設定する必要があります。<br>\nページごとに異なる情報は、Firebase CloudStoreに保存してあるので、そこから取得します。  </p>\n<p>また、ツイッターのクローラーからのリクエストならばOGP用のページを返却し、通常のアクセスならばページを表示するというような振り分けも行います。</p>\n<p>リクエストが来てからのフローは以下の用になります</p>\n<ul>\n<li>リクエストの振り分け</li>\n<li>DBからデータの取得</li>\n<li>リダイレクト or OGP設定</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/10c0354f1ccfa8a182f61b8e3690790b/f570d/vuejs_golang_firebase_functions.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABNklEQVQoz52RTU7DMBCFcyJ2nIuDcAWW7JEqFmyphFgHtait2tLihMaJazu1E9v1H1NAaZCQWvE0sizbb/zNTBJjDH8pHnXYe0UDefIxSCnbtnXOwWEST8szE+P2ORtc5JtstVrPZjOMsbU2gTQZQsVHzhmlO10SCheUUjBZF6Ty89UG5SWnaJw+pC+vxuimaeB/733indtJRWrN2rhf39M8LQmvqqqGZLu9spExCsFrIaThnIGnQzpgK6VxWREq1fJ2Ph4q7eqaFxhXuHDWHumDc97325FA6dPpBMjzPFN6368V2BhjS9Bi0bQNKTAlVf9BApmgdFiBJ/SQOgkhgMIa84wmN3eD4dvoe0Anut3NTButRTPaosvrq8f38VcJ4cxRdeMOqUDG218NO9v8E/8xd7SdPgHHWXt5UK524AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vuejs_golang_firebase_functions\"\n        title=\"vuejs_golang_firebase_functions\"\n        src=\"/static/10c0354f1ccfa8a182f61b8e3690790b/c7805/vuejs_golang_firebase_functions.png\"\n        srcset=\"/static/10c0354f1ccfa8a182f61b8e3690790b/c0399/vuejs_golang_firebase_functions.png 100w,\n/static/10c0354f1ccfa8a182f61b8e3690790b/9ec3c/vuejs_golang_firebase_functions.png 200w,\n/static/10c0354f1ccfa8a182f61b8e3690790b/c7805/vuejs_golang_firebase_functions.png 400w,\n/static/10c0354f1ccfa8a182f61b8e3690790b/34e8a/vuejs_golang_firebase_functions.png 600w,\n/static/10c0354f1ccfa8a182f61b8e3690790b/8ff1e/vuejs_golang_firebase_functions.png 800w,\n/static/10c0354f1ccfa8a182f61b8e3690790b/f570d/vuejs_golang_firebase_functions.png 960w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"シンプルなリスポンス例\"><a href=\"#%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E3%83%AA%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E4%BE%8B\" aria-label=\"シンプルなリスポンス例 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>シンプルなリスポンス例</h2>\n<p>200を返すシンプルなfunctionsの例は以下</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> functions <span class=\"token keyword\">from</span> <span class=\"token string\">'firebase-functions'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> share <span class=\"token operator\">=</span> functions<span class=\"token punctuation\">.</span>https<span class=\"token punctuation\">.</span><span class=\"token function\">onRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n          res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">200</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello world\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"リクエストの振り分け\"><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%AE%E6%8C%AF%E3%82%8A%E5%88%86%E3%81%91\" aria-label=\"リクエストの振り分け permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リクエストの振り分け</h2>\n<p>Twitterのクローラーは、User-Agentが<code class=\"language-text\">User-agent: Twitterbot</code>なので、これを使います。<br>\nUAがTwitterbotの場合はOGPを設定し返却、それ以外の場合は通常のページへリダイレクトさせるようにします。  </p>\n<p>UAは以下の用に取得できます。 </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> ua <span class=\"token operator\">=</span> req<span class=\"token punctuation\">.</span><span class=\"token function\">header</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user-agent'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ua:'</span><span class=\"token punctuation\">,</span>ua<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>リクエストを振り分けるために、エンドポイントを<code class=\"language-text\">firebase.json</code>を修正します。<br>\n<code class=\"language-text\">/for_twitter</code>にアクセスが来るとFunctionsが呼ばれ、それ以外は通常のページを返します。  </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-json line-numbers\"><code class=\"language-json\">  <span class=\"token property\">\"rewrites\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t    <span class=\"token property\">\"source\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/for_twitter/*\"</span><span class=\"token punctuation\">,</span>\n\t\t    <span class=\"token property\">\"function\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"for_twitter\"</span>\n\t\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t\t<span class=\"token punctuation\">{</span>\n\t\t    <span class=\"token property\">\"source\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"**\"</span><span class=\"token punctuation\">,</span>\n\t\t    <span class=\"token property\">\"destination\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/index.html\"</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token punctuation\">]</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h2 id=\"cloud-storeからデータを取得\"><a href=\"#cloud-store%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%96%E5%BE%97\" aria-label=\"cloud storeからデータを取得 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud Storeからデータを取得</h2>\n<p>Firebase Admin SDKを使うと、FunctionsからDB/Storageに対し管理者としてアクセスが可能になります。もちろんですが、サーバー側空だけでフロント側から使わないように注意です。</p>\n<p>サーバーに Firebase Admin SDK を追加する:<br>\n<a href=\"https://firebase.google.com/docs/admin/setup?hl=ja\">https://firebase.google.com/docs/admin/setup?hl=ja</a>  </p>\n<p>環境変数にsevice accountを追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\"><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">GOOGLE_APPLICATION_CREDENTIALS</span><span class=\"token operator\">=</span><span class=\"token string\">\"/home/user/Downloads/service-account-file.json\"</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>以下のようにSKDの初期化を行います。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> admin <span class=\"token keyword\">from</span> <span class=\"token string\">'firebase-admin'</span><span class=\"token punctuation\">;</span>\n\nadmin<span class=\"token punctuation\">.</span><span class=\"token function\">initializeApp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  credential<span class=\"token punctuation\">:</span> admin<span class=\"token punctuation\">.</span>credential<span class=\"token punctuation\">.</span><span class=\"token function\">applicationDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  databaseURL<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://&lt;DATABASE_NAME>.firebaseio.com'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>あとは、adminを使って、firestoreへアクセス可能です。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> ref <span class=\"token operator\">=</span> admin<span class=\"token punctuation\">.</span><span class=\"token function\">firestore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collection</span><span class=\"token punctuation\">(</span><span class=\"token string\">'test'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nref<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">snapshot</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token comment\">// ...</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span></span></pre></div>\n<p>データの取得などはドキュメント参考<br>\n<a href=\"https://firebase.google.com/docs/firestore?hl=ja\">https://firebase.google.com/docs/firestore?hl=ja</a></p>\n<h2 id=\"twiter-ogpの設定\"><a href=\"#twiter-ogp%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-label=\"twiter ogpの設定 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Twiter OGPの設定</h2>\n<p>以下の４つが設定できるようです。  </p>\n<ul>\n<li>Summary Card</li>\n<li>Summary Card with Large Image</li>\n<li>App Card</li>\n<li>Player Card</li>\n</ul>\n<p>Optimize Tweets with Cards<br>\n<a href=\"https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/abouts-cards\">https://developer.twitter.com/en/docs/tweets/optimize-with-cards/overview/abouts-cards</a></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7a1017895c3f39069beba4cf7df12bb5/98829/twitter_card.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 42.857142857142854%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABKElEQVQoz62SW04DMQxFi9gP24APdoHYFEJCFAXxwwdLYAlIbKCIohY6z0wmmTj2xelDlYbHVy3duc44OmPZM6GUJocIQPYHZrmAyCOEbwBMd2LBlBJPmceStRLLrdaNwk4yR0SOdvT7FyU8L4C2+MKqrFGVBZZtQMLfIfv0fAs83gJx9eaB14/afy4WNHuf02pVUN001LSWnHPkvaeu68iFSG5I1PoYuyHFDFXQ6Rh4nT8zmy+jtR2qqoK1FgpAURQoyxJN06oalJ1H5aL6IApeN8kiZz86zAXbex9CIH1Q9r73pEsjLf2qHEPMKUYdipj8NjDWM1NDxCb/b4b4a4aaXIaYnnQud7UbjLrJXvfRNKq8Sb1jeCxmkxI/KHC/ZT0c6D/ccL4BTFjgC3KUo9QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"twitter_card\"\n        title=\"twitter_card\"\n        src=\"/static/7a1017895c3f39069beba4cf7df12bb5/c7805/twitter_card.png\"\n        srcset=\"/static/7a1017895c3f39069beba4cf7df12bb5/c0399/twitter_card.png 100w,\n/static/7a1017895c3f39069beba4cf7df12bb5/9ec3c/twitter_card.png 200w,\n/static/7a1017895c3f39069beba4cf7df12bb5/c7805/twitter_card.png 400w,\n/static/7a1017895c3f39069beba4cf7df12bb5/34e8a/twitter_card.png 600w,\n/static/7a1017895c3f39069beba4cf7df12bb5/98829/twitter_card.png 693w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bd0465fc9df5b4c7434930cc4e31ae28/e98ad/twitter_card_large.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 107.88530465949822%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD+0lEQVQ4y5WV708cRRjH+RuM/0gTtUWuWOjVa6MCjaAvbIzRaEyUFoTGxBe+8ZWJNGrTN/rOAh7HUaCNNiXlV2uaEKVVavl1J/SE9u64293Zmd29427n+frsQlIgJOAk35lnd2Y/892ZfWZrqpqeB+m3AGoDsEO6reLrNv8AVVmkdSuPf7uq9ZkaBtUzAPeKQN71UZICWYdb/L+iwprWAmCdKGt8PlPVv61a/srygp5fK2pXQ/OIQ4mrqlENgcs1BESINHK5HJmmSQZLmAaZxQKZlkV5u0xFocgoFqnICsZsbBQom82RYRhhnM/n/QCniVLsEBGf55hfXMLf8wu0uJzCUiqNh/OLSK8+RjqzjqX0Ct9L4dHCAlYfZ/Dn3EM8zeZQKm9CKgVbKR36I0pvAwl54WFDeFSwPZgqiN1tObCdYEVpj3aVEKh1CKRIiQ1/ea+ET8YdujgpcX7KQ8eEg+4Jie5JhS5W56SDrmkvVPe0i4tTLrrHbXxx10X7bVePrIQetxxaZSA6pHC016RI3MYL/Q5iSYFTCYGX+ywc7zPDtjauUD8gURd30BgXaOgt4NSgRG2/1F/P0jOg2ARaRiQaBwS9es3BK4MK53618emEjdeSFk4nTLx7U+DDMRtnRyVOM6QlaXCfwJlBG3V9Qvfc93cDm4ZtnIgLOjnk4ERC4f1bNj67o/DxbYH3fjHQMSVZPMm4hbbhIoMEogM84ZBEbEjpy3N7HL4xotAQNymalKhPOOzIRicDz0/auMCg9gA4LfHBmOSlsNB83UETPxNjt8f6bN3zQO8EUgg8zg5jgyYaedCbowLtE4Jfm9sphQ6Gd0wrvD4s0cDrGI2b7FCEwNp+xcA9DptHecETik4mA5iFj8YEOtlZ1x3e3bsKF9hd6w2FaNJFjB0GiiZsxBh6rFfoSzuBVpnQyJ1Hrgp6sV/ipWAXkwpNPEnrDYnmEZt318ZR7qv7mXW1gHduSpy7pdByXeLIT0J/NRPm3hbQ4/jHvzx8O+vSd/dL+GZGoud3Dz1/eLjECu59z7ryoITLsx6uzDoYSpVxLV3GyD9l/DBX0uPr299hpVKNBKE08lhdekS5tVVkUosoPMkgk15E7t+Vwxw2Yab4Qab4vh8CDctGZv0pPcnmkc0XYAkbuY0CHM8LEy1IT05++NvSu7Qj9bgKgZWqHyQ7lTcrYbyzcNIfpGdAvo4ENx3HpVKpRJ7nkXKcUK7rEp8mxG9BW9z9C/f72yZSDKQ6Pr5Iepvadjd9bn3Fst1yqODaKVf5tCc/eHY/aa35TxLOuFzDdfgLCDadT37IClDSW7GqbrWuf7jfAAPXA4fPcdjM1weKN6CZ9lcT95/lNvofTdICC/4GZpEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"twitter_card_large\"\n        title=\"twitter_card_large\"\n        src=\"/static/bd0465fc9df5b4c7434930cc4e31ae28/c7805/twitter_card_large.png\"\n        srcset=\"/static/bd0465fc9df5b4c7434930cc4e31ae28/c0399/twitter_card_large.png 100w,\n/static/bd0465fc9df5b4c7434930cc4e31ae28/9ec3c/twitter_card_large.png 200w,\n/static/bd0465fc9df5b4c7434930cc4e31ae28/c7805/twitter_card_large.png 400w,\n/static/bd0465fc9df5b4c7434930cc4e31ae28/e98ad/twitter_card_large.png 558w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>今回はSummary Card with Large Imageを使います。ヘッダーに以下を追加します。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>twitter:card<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>summary_large_image<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>meta</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>meta</span> <span class=\"token attr-name\">property</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>og:image<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">content</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>imageURL<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span></span></pre></div>\n<p>UAがTwitterbotの場合は、以下の関数を利用し、headerを設定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-javascript line-numbers\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">buildHtmlWithPost</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">id<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">,</span> siteUrl<span class=\"token punctuation\">:</span>string<span class=\"token punctuation\">,</span> imageURL</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">:</span> string <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;!DOCTYPE html>&lt;head>\n  &lt;title>&lt;/title>\n  &lt;meta name=\"twitter:card\" content=\"summary_large_image\"/>\n  &lt;meta name=\"twitter:title\" property=\"og:title\" content=\"タイトル\"/>\n  &lt;meta property=\"og:url\" content=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>siteURL<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n  &lt;meta property=\"og:image\" content=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>imageURL<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n  &lt;meta property=\"og:image:width\" content=\"600\"> \n  &lt;/head>\n  &lt;body>&lt;/body>\n  &lt;/html></span><span class=\"token template-punctuation string\">`</span></span>\n<span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>正しく設定できているかは以下から確認できます。</p>\n<p><a href=\"https://cards-dev.twitter.com/validator\">https://cards-dev.twitter.com/validator</a></p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Firebase Cloud Functionsを使って、Twitter用のOGPを設定しました。<br>\nHTTPSリクエストをトリガーにし、Firebase Storageから情報を取得、headerを付与し返却するという使い方でしたが、簡単に使うことができました。他のFirebaseのサービスへのアクセスは簡単なので、Firebaseを利用したいろいろなアプリケーションが簡単に作れそうです。他のトリガーなども使ってみたいと思います。</p>","id":"fd7d95ba-8441-57a7-b22d-5b262c3ca70f","tableOfContents":"<ul>\n<li><a href=\"/edgwbs/book_reports_cloud_functions/#ogp%E8%A8%AD%E5%AE%9A\">OGP設定</a></li>\n<li><a href=\"/edgwbs/book_reports_cloud_functions/#%E3%82%B7%E3%83%B3%E3%83%97%E3%83%AB%E3%81%AA%E3%83%AA%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E4%BE%8B\">シンプルなリスポンス例</a></li>\n<li><a href=\"/edgwbs/book_reports_cloud_functions/#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%81%AE%E6%8C%AF%E3%82%8A%E5%88%86%E3%81%91\">リクエストの振り分け</a></li>\n<li><a href=\"/edgwbs/book_reports_cloud_functions/#cloud-store%E3%81%8B%E3%82%89%E3%83%87%E3%83%BC%E3%82%BF%E3%82%92%E5%8F%96%E5%BE%97\">Cloud Storeからデータを取得</a></li>\n<li><a href=\"/edgwbs/book_reports_cloud_functions/#twiter-ogp%E3%81%AE%E8%A8%AD%E5%AE%9A\">Twiter OGPの設定</a></li>\n<li><a href=\"/edgwbs/book_reports_cloud_functions/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","frontmatter":{"title":"Firebase Cloud Functionsを使ってTwitterのOGPを設定する","date":"2019-09-29","tags":["firebase","WebApp"]},"fields":{"slug":"/edgwbs/book_reports_cloud_functions/"}}},{"node":{"excerpt":"Vue.jsとGolangでWebアプリケーションでFirebase Authenticationを使い、ログイン処理を行います。 https://firebase.google.com/docs/auth/?hl=ja    Firebaseの説明や導入などは、Qiitaにもわかりやすい記事がたくさん上がっているので、そちらを参考にしてください。  Vue.js側 VueCLI…","html":"<p>Vue.jsとGolangでWebアプリケーションでFirebase Authenticationを使い、ログイン処理を行います。<br>\n<a href=\"https://firebase.google.com/docs/auth/?hl=ja\">https://firebase.google.com/docs/auth/?hl=ja</a>  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d155b97ff546f21ae4875f7273dc51b0/f570d/vuejs_golang_firebase.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAA60lEQVQoz6VSyw7BQBTtp9n5CN9gYSmx9wXY65aFnQ0riUjEI2mQoItKPfoYrUyrmLnVh1a1UU2c3LmZnMmZe+6dYew/wCQYcNeW1cWResaKIiOEMMa/xeDB2RjL+nTYkVV9s1lzHCcIQsbKEQMRULBpgnyLqQ0HDVmG5eQHEN9I8lJKSMgzoWEnVwftfLFU7jZjpdGdjHRjcrnONVybLYYnxfMCH2IeSzm2MpZ4/ywU8+atsVPZ/bkva4XptiXKDklCcdAnrPDh5nmO9f8AcIPS3lEVsOmTMfEr0of3ddoUIP1jkOA5054qC56i23/E892KyAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vuejs_golang_firebase\"\n        title=\"vuejs_golang_firebase\"\n        src=\"/static/d155b97ff546f21ae4875f7273dc51b0/c7805/vuejs_golang_firebase.png\"\n        srcset=\"/static/d155b97ff546f21ae4875f7273dc51b0/c0399/vuejs_golang_firebase.png 100w,\n/static/d155b97ff546f21ae4875f7273dc51b0/9ec3c/vuejs_golang_firebase.png 200w,\n/static/d155b97ff546f21ae4875f7273dc51b0/c7805/vuejs_golang_firebase.png 400w,\n/static/d155b97ff546f21ae4875f7273dc51b0/34e8a/vuejs_golang_firebase.png 600w,\n/static/d155b97ff546f21ae4875f7273dc51b0/8ff1e/vuejs_golang_firebase.png 800w,\n/static/d155b97ff546f21ae4875f7273dc51b0/f570d/vuejs_golang_firebase.png 960w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Firebaseの説明や導入などは、Qiitaにもわかりやすい記事がたくさん上がっているので、そちらを参考にしてください。 </p>\n<h2 id=\"vuejs側\"><a href=\"#vuejs%E5%81%B4\" aria-label=\"vuejs側 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vue.js側</h2>\n<p>VueCLI3を使い、typescriptのプロジェクトを作成します。今回は、vueのrouter guardは省略します。</p>\n<h3 id=\"準備\"><a href=\"#%E6%BA%96%E5%82%99\" aria-label=\"準備 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>準備</h3>\n<p>npmからインストールします。 </p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">npm</span> <span class=\"token function\">install</span> firebase</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>firebaseの認証情報は、以下のドキュメントを参考に取得しておきます。<br>\n<a href=\"https://firebase.google.com/docs/auth/web/password-auth?authuser=1\">https://firebase.google.com/docs/auth/web/password-auth?authuser=1</a></p>\n<p><code class=\"language-text\">src/main.ts</code>にfirebaseをimportし、上記で取得した認証情報を貼り付けます。 </p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> firebase <span class=\"token keyword\">from</span> <span class=\"token string\">'firebase/app'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> fireBaseConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  apiKey<span class=\"token punctuation\">:</span> <span class=\"token string\">'*****'</span><span class=\"token punctuation\">,</span>\n  authDomain<span class=\"token punctuation\">:</span> <span class=\"token string\">'*****.firebaseapp.com'</span><span class=\"token punctuation\">,</span>\n  databaseURL<span class=\"token punctuation\">:</span> <span class=\"token string\">'https://******.firebaseio.com'</span><span class=\"token punctuation\">,</span>\n  projectId<span class=\"token punctuation\">:</span> <span class=\"token string\">'*****'</span><span class=\"token punctuation\">,</span>\n  storageBucket<span class=\"token punctuation\">:</span> <span class=\"token string\">'*****.appspot.com'</span><span class=\"token punctuation\">,</span>\n  messagingSenderId<span class=\"token punctuation\">:</span> <span class=\"token string\">'******'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\nfirebase<span class=\"token punctuation\">.</span><span class=\"token function\">initializeApp</span><span class=\"token punctuation\">(</span>fireBaseConfig<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<h3 id=\"ログイン処理\"><a href=\"#%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E5%87%A6%E7%90%86\" aria-label=\"ログイン処理 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ログイン処理</h3>\n<p>firebaseではemail+passwordの通常の認証に加え、GoogleアカウントやTwitter、Githubのアカウントでのログインが1つのメソッドだけで行えます。 </p>\n<p>Googleなどのアカウントでログインしたい場合は、あらかじめfirebaseから認証を許可するよう設定しておく必要があります。 </p>\n<h4 id=\"signin-with-emailpassword\"><a href=\"#signin-with-emailpassword\" aria-label=\"signin with emailpassword permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>signIn with email+password</h4>\n<p>コンポーネントにfirebaseのログイン画面を作ります。以下はその例です。 </p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Component<span class=\"token punctuation\">,</span> Vue<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-property-decorator'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> firebase <span class=\"token keyword\">from</span> <span class=\"token string\">'firebase/app'</span><span class=\"token punctuation\">;</span>\n\n@Component\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Home</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Vue</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">private</span> email<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> password<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span> <span class=\"token operator\">=</span> <span class=\"token string\">''</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">private</span> showPassword<span class=\"token punctuation\">:</span> <span class=\"token builtin\">boolean</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">private</span> <span class=\"token function\">siginInWithEmail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">signInWithEmailAndPassword</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>password<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res<span class=\"token punctuation\">:</span> firebase<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>UserCredential</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n              <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>user <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> reject</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">reject</span><span class=\"token punctuation\">(</span><span class=\"token string\">'user not found'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              <span class=\"token punctuation\">}</span>\n              <span class=\"token keyword\">return</span> res<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span><span class=\"token function\">getIdToken</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">idToken<span class=\"token punctuation\">:</span> <span class=\"token builtin\">string</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"login success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token keyword\">finally</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>見て分かる通り、以下のメソッドの引数にメールアドレスとパスワードを渡すだけです。<br>\n<code class=\"language-text\">firebase.auth().signInWithEmailAndPassword(this.email, this.password)</code></p>\n<p>このメソッドは、<code class=\"language-text\">Promise&lt;firebase.auth.UserCredential&gt;</code>を返します。 User情報などはここから取得できます。 </p>\n<p>UserCredentialの中身は以下のドキュメントを参考。<br>\n<a href=\"https://firebase.google.com/docs/reference/js/firebase.auth.html#usercredential\">https://firebase.google.com/docs/reference/js/firebase.auth.html#usercredential</a></p>\n<p><code class=\"language-text\">firebase.auth.UserCredential</code>のもつ<code class=\"language-text\">user</code>が<code class=\"language-text\">getIdToken</code>メソッドを持っており、ここからトークンが取得できます。 </p>\n<p>PWAやスマホアプリでは、リフレッシュトークンを使いたいです。<code class=\"language-text\">getIdToken</code>では、トークンが失効していれば、firebase側でリフレッシュトークンを使ったトークンの更新処理を行ってくれるため、わざわざトークンの更新処理を追加する必要がありません。 </p>\n<p><a href=\"https://firebase.google.com/docs/reference/js/firebase.User.html#getidtoken\">https://firebase.google.com/docs/reference/js/firebase.User.html#getidtoken</a></p>\n<h4 id=\"signin-with-googlepopup\"><a href=\"#signin-with-googlepopup\" aria-label=\"signin with googlepopup permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>signIn with Google(popup)</h4>\n<p>ログイン方法には、Popupで別ウィンドウが開きログインを行う方法とリダイレクトを用いた方法があります。 Googleアカウントを使いpopupでログインしたい場合は、以下のようにします。 </p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">  <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>Component<span class=\"token punctuation\">,</span> Vue<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-property-decorator'</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">import</span> firebase <span class=\"token keyword\">from</span> <span class=\"token string\">'firebase/app'</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">private</span> provider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">firebase<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>GoogleAuthProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  @Component\n  <span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Home</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Vue</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token function\">signInByGoogleWithPopup</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">signInWithPopup</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>provider<span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res<span class=\"token punctuation\">:</span> firebase<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>UserCredential</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n        <span class=\"token comment\">// 省略</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>providerにGoogleを指定し、<code class=\"language-text\">firebase.auth().signInWithPopup(this.provider)</code>を呼ぶと、popupで見慣れたログイン画面が表示されます。\n図</p>\n<p><code class=\"language-text\">firebase.auth().signInWithPopup(this.provider)</code>もEmail+Passwordの場合と同様に、<code class=\"language-text\">Promise&lt;firebase.auth.UserCredential&gt;</code>を返すので、同様の方法でtokenやuser情報を取得できます。 </p>\n<h4 id=\"signin-with-googleredirect\"><a href=\"#signin-with-googleredirect\" aria-label=\"signin with googleredirect permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>signIn with Google(redirect)</h4>\n<p>PWAでは、リダイレクトでのログインが推奨されています。 </p>\n<p>リダイレクトは以下のようにします。</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">  <span class=\"token keyword\">private</span> <span class=\"token function\">siginInByGoogleWithRedirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">signInWithRedirect</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>provider<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token keyword\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n              <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token keyword\">finally</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n              <span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'end'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">siginInByGoogleWithRedirect</code>が呼ばれるとログイン画面にリダイレクトされます。</p>\n<p>ログイン画面から元のページへ遷移後、リダイレクトによる認証が正しく行えたか確認します。 </p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\"> <span class=\"token keyword\">private</span> <span class=\"token function\">afterRedirect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRedirectResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n              <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res<span class=\"token punctuation\">:</span> firebase<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>UserCredential</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n              <span class=\"token comment\">// 省略</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<p><code class=\"language-text\">getRedirectResult</code>が<code class=\"language-text\">firebase.auth.UserCredential</code>を返すので、正しく認証できていれば、ここから先ほどと同様にユーザー情報やトークンを取得できます。 </p>\n<h4 id=\"github-or-twitter\"><a href=\"#github-or-twitter\" aria-label=\"github or twitter permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>github or twitter</h4>\n<p>Googleアカウントを使った場合と同様に、プロバイダを指定しログインできます。\n予めTwitterでデベロッパーアプリケーションとしてアプリを登録し、APIキーとAPI Secretを取得しておきます。\nTwitterデベロッパー側に、OAuthコールバックとして、firebaseのURLを指定します。</p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">provider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">firebase<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>GithubAuthProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// or </span>\nprovider <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">firebase<span class=\"token punctuation\">.</span>auth<span class=\"token punctuation\">.</span>TwitterAuthProvider</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nfirebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">signInWithPopup</span><span class=\"token punctuation\">(</span>provider<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p><a href=\"https://firebase.google.com/docs/auth/web/github-auth?hl=ja\">https://firebase.google.com/docs/auth/web/github-auth?hl=ja</a>\n<a href=\"https://firebase.google.com/docs/auth/web/twitter-login?hl=ja\">https://firebase.google.com/docs/auth/web/twitter-login?hl=ja</a></p>\n<h3 id=\"パスワードの再設定\"><a href=\"#%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AE%E5%86%8D%E8%A8%AD%E5%AE%9A\" aria-label=\"パスワードの再設定 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>パスワードの再設定</h3>\n<p>パスワードの再設定のメールを送信するのも、メソッド1つで行えます。 </p>\n<div class=\"gatsby-highlight\" data-language=\"typescript\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-typescript line-numbers\"><code class=\"language-typescript\">firebase<span class=\"token punctuation\">.</span><span class=\"token function\">auth</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">sendPasswordResetEmail</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>送信されるメールのbodyは、firebaseから設定が行えます。 </p>\n<p>ユーザーの更新、削除も同様に行えます。\n詳しくはドキュメントを参考。 </p>\n<p><a href=\"https://firebase.google.com/docs/auth/web/manage-users?hl=ja#top_of_page\">https://firebase.google.com/docs/auth/web/manage-users?hl=ja#top_of_page</a></p>\n<h3 id=\"メールアドレスの重複\"><a href=\"#%E3%83%A1%E3%83%BC%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%81%AE%E9%87%8D%E8%A4%87\" aria-label=\"メールアドレスの重複 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>メールアドレスの重複</h3>\n<p>Firebase Authenticationでは、メールアドレスの重複はデフォルトでは許可されていません。 Email+Passwordでアカウントを作成し、同じメールアドレスのGoogleアカウントでログインしようとすると、Googleアカウント側が有効となります。 このとき、ユーザー識別子は、Email+Passwordで作成したものが、Googleアカウントで作成したものに移行されるようです。 </p>\n<p>重複を許可する設定も行えますが、1つのユーザーに複数のプロバイダを紐づけることもできるので、そちらを行った方が良いかと思います。\n<a href=\"https://firebase.google.com/docs/auth/web/account-linking\">https://firebase.google.com/docs/auth/web/account-linking</a></p>\n<h3 id=\"認証状態の永続性\"><a href=\"#%E8%AA%8D%E8%A8%BC%E7%8A%B6%E6%85%8B%E3%81%AE%E6%B0%B8%E7%B6%9A%E6%80%A7\" aria-label=\"認証状態の永続性 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>認証状態の永続性</h3>\n<p><a href=\"https://firebase.google.com/docs/auth/web/auth-state-persistence?hl=ja\">https://firebase.google.com/docs/auth/web/auth-state-persistence?hl=ja</a></p>\n<h2 id=\"golang側\"><a href=\"#golang%E5%81%B4\" aria-label=\"golang側 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Golang側</h2>\n<p>フロントで取得したJWTを、バックエンドに投げ、バックエンドからJWTが正しいかをfirebaeに問い合わせに行きます。<br>\nユーザーのログインのフローは簡単に書くと以下の図のような流れになります。  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/56ecb54bfaf7632a9717d5833db837d5/f570d/vuejs_golang_firebase_2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 56.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABPUlEQVQoz41QW07DMBDMvTgWvxwACXEAvjgBHAH1EyEhhBAqqG0apU0c24kTO3FI/GTloApKVXU+rNXszux6Iuec1hreOsB7/1ok9w+zN5wYpVGBkiRJ05RVTBtjvO+N/bJuw0Vc86jve4wx5zyO48VyObTyhazPrs/fq01b8xwhQghjjFBqjVn04822vMPN1Wd6OU8isBuGAV6llA/Q1sxlbsNF4LtarUA8tZRzVJvO2EcmZrSJ/F+M4wheshEIoXDmD4QQbdt2UrKqBNOJ3Bc3TVOWJSaECw4LoaaUQiLwr6qqgIdbwMZ5b/+Ld8AFjGEpJYQCYmAgTrDuug6umJgD4qmhlJ6KHQkukMtv8uDm0BYf/Olikxd5nmdZBhFAHHtzh8VhdbZ+vt3mpK5ZHACbTxGfiiNi+J11R8XffCR5mJSkxBMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"vuejs_golang_firebase_2\"\n        title=\"vuejs_golang_firebase_2\"\n        src=\"/static/56ecb54bfaf7632a9717d5833db837d5/c7805/vuejs_golang_firebase_2.png\"\n        srcset=\"/static/56ecb54bfaf7632a9717d5833db837d5/c0399/vuejs_golang_firebase_2.png 100w,\n/static/56ecb54bfaf7632a9717d5833db837d5/9ec3c/vuejs_golang_firebase_2.png 200w,\n/static/56ecb54bfaf7632a9717d5833db837d5/c7805/vuejs_golang_firebase_2.png 400w,\n/static/56ecb54bfaf7632a9717d5833db837d5/34e8a/vuejs_golang_firebase_2.png 600w,\n/static/56ecb54bfaf7632a9717d5833db837d5/8ff1e/vuejs_golang_firebase_2.png 800w,\n/static/56ecb54bfaf7632a9717d5833db837d5/f570d/vuejs_golang_firebase_2.png 960w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>コード例は、以下の用になります。  </p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-go line-numbers\"><code class=\"language-go\">ctx <span class=\"token operator\">:=</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">var</span> opt option<span class=\"token punctuation\">.</span>ClientOption\n\n<span class=\"token comment\">// localのjson keyから認証する場合</span>\nopt <span class=\"token operator\">=</span> option<span class=\"token punctuation\">.</span><span class=\"token function\">WithCredentialsFile</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"****.json\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 環境変数から認証する場合</span>\ncredentials<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> google<span class=\"token punctuation\">.</span><span class=\"token function\">CredentialsFromJSON</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>authKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t os<span class=\"token punctuation\">.</span><span class=\"token function\">Exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\nopt <span class=\"token operator\">=</span> option<span class=\"token punctuation\">.</span><span class=\"token function\">WithCredentials</span><span class=\"token punctuation\">(</span>credentials<span class=\"token punctuation\">)</span>\n\t\t\n\napp<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> firebase<span class=\"token punctuation\">.</span><span class=\"token function\">NewApp</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> opt<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t os<span class=\"token punctuation\">.</span><span class=\"token function\">Exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nclient<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> app<span class=\"token punctuation\">.</span><span class=\"token function\">Auth</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">Fatalf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error getting Auth client: %v\\n\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n\t os<span class=\"token punctuation\">.</span><span class=\"token function\">Exit</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ヘッダーからIDトークンを取得</span>\nauthHeader <span class=\"token operator\">:=</span> c<span class=\"token punctuation\">.</span><span class=\"token function\">GetHeader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Authorization\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nidToken <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Replace</span><span class=\"token punctuation\">(</span>authHeader<span class=\"token punctuation\">,</span> <span class=\"token string\">\"Bearer \"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// トークンを確認</span>\ntoken<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">VerifyIDToken</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">Background</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> idToken<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">Fatalf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error verifying ID token: %v\\n\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\nlog<span class=\"token punctuation\">.</span><span class=\"token function\">Printf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Verified ID token: %v\\n\"</span><span class=\"token punctuation\">,</span> token<span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>参考\n<a href=\"https://firebase.google.com/docs/auth/admin/verify-id-tokens?hl=ja\">https://firebase.google.com/docs/auth/admin/verify-id-tokens?hl=ja</a></p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Vue.jsとGolangからFirebase Authenticationを使いユーザーの管理を行いました。\nこれまで、ユーザー管理用のAPIを自分で書いていましたが、バックエンドもフロントエンドも少しコードを書くだけで認証が行えるfirebase、めっちゃ楽、すばらしいです. </p>\n<p>一方、firebaseは認証トークンにJWT(json web token)を使っており、JWTは使うべきでないというような記事も割と見かけるので、この辺りはもう少し詳しく調べて見ようかと思います。 </p>","id":"b8f9e2ef-f841-583d-8112-e3ab7a61e2d4","tableOfContents":"<ul>\n<li>\n<p><a href=\"/edgwbs/book_reports_firebase/#vuejs%E5%81%B4\">Vue.js側</a></p>\n<ul>\n<li><a href=\"/edgwbs/book_reports_firebase/#%E6%BA%96%E5%82%99\">準備</a></li>\n<li>\n<p><a href=\"/edgwbs/book_reports_firebase/#%E3%83%AD%E3%82%B0%E3%82%A4%E3%83%B3%E5%87%A6%E7%90%86\">ログイン処理</a></p>\n<ul>\n<li><a href=\"/edgwbs/book_reports_firebase/#signin-with-emailpassword\">signIn with email+password</a></li>\n<li><a href=\"/edgwbs/book_reports_firebase/#signin-with-googlepopup\">signIn with Google(popup)</a></li>\n<li><a href=\"/edgwbs/book_reports_firebase/#signin-with-googleredirect\">signIn with Google(redirect)</a></li>\n<li><a href=\"/edgwbs/book_reports_firebase/#github-or-twitter\">github or twitter</a></li>\n</ul>\n</li>\n<li><a href=\"/edgwbs/book_reports_firebase/#%E3%83%91%E3%82%B9%E3%83%AF%E3%83%BC%E3%83%89%E3%81%AE%E5%86%8D%E8%A8%AD%E5%AE%9A\">パスワードの再設定</a></li>\n<li><a href=\"/edgwbs/book_reports_firebase/#%E3%83%A1%E3%83%BC%E3%83%AB%E3%82%A2%E3%83%89%E3%83%AC%E3%82%B9%E3%81%AE%E9%87%8D%E8%A4%87\">メールアドレスの重複</a></li>\n<li><a href=\"/edgwbs/book_reports_firebase/#%E8%AA%8D%E8%A8%BC%E7%8A%B6%E6%85%8B%E3%81%AE%E6%B0%B8%E7%B6%9A%E6%80%A7\">認証状態の永続性</a></li>\n</ul>\n</li>\n<li><a href=\"/edgwbs/book_reports_firebase/#golang%E5%81%B4\">Golang側</a></li>\n<li><a href=\"/edgwbs/book_reports_firebase/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","frontmatter":{"title":"Vue.js + Golang + Firebase Authenticationでログイン処理","date":"2019-09-27","tags":["WebApp","firebase","golang"]},"fields":{"slug":"/edgwbs/book_reports_firebase/"}}},{"node":{"excerpt":"サービス概要 「読書感想文をもっと気軽に」をコンセプトに読んだ本の感想文/レビューを三行だけ書き、SNSでシェアするサービスです。  三行読書感想文 使い方 googleアカウントもしくは、Twitterアカウントでログインできます。 その他のSNS…","html":"<h2 id=\"サービス概要\"><a href=\"#%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E6%A6%82%E8%A6%81\" aria-label=\"サービス概要 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>サービス概要</h2>\n<p>「読書感想文をもっと気軽に」をコンセプトに読んだ本の感想文/レビューを三行だけ書き、SNSでシェアするサービスです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/6ff5e/logo.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAABk0lEQVQ4y82Uy0rDQBSGE4v1hkK1C8UruGitaJWidSFFK67VneDGnUuXgiA+hS/gSnpJmzSZZJI0k+ZSqpZSqgiK6Kt40rrQtthYEIR/MXPgm3POP2eGotJC9/ormK6rG9jBUjyI/i1MA5bMjXIYBAtn6xZOCX0MiiiFqGqsKUZYLvQzCIKu4F4G7RB7SlAnBTUokQWJbGkWBF3AKd7H4ahiUDfsnlk6tO9WsR7G+hgnU63Ft8LQ56KoRWT9ovpwXCoPZyXg4URX8FBWjBN7RlAh8zLWBzLirl4czIodYLgVT533c/KmZs06PWvbxPbXa+5hWq69Ke2nEhyd5OdFbVpQqUQOtk4wyTcn/7qZ4JWARMCboEgg2wiLl7AOnockMs4rcyjvY3EbuDFPAShSs6DD03IV2r56embf3i+rj9cvr/tm6bxSixPLmZm2mUOYxDQLssWIta4aR8X7s0oNDD+5rWzkzQOztCIXvlXeNB7eDALPPAyC43tADIK1l0HgtjctgPN0N0+y8UJ+MOzffAYd9QF0kEMCIaB/ewAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"logo\"\n        title=\"logo\"\n        src=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/c7805/logo.png\"\n        srcset=\"/static/48fe82c772514dfc1b1a6d6713f9f4ce/c0399/logo.png 100w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/9ec3c/logo.png 200w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/c7805/logo.png 400w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/34e8a/logo.png 600w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/8ff1e/logo.png 800w,\n/static/48fe82c772514dfc1b1a6d6713f9f4ce/6ff5e/logo.png 1200w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><a href=\"https://bookreports.edgwbs.net\">三行読書感想文</a></p>\n<h2 id=\"使い方\"><a href=\"#%E4%BD%BF%E3%81%84%E6%96%B9\" aria-label=\"使い方 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>使い方</h2>\n<p>googleアカウントもしくは、Twitterアカウントでログインできます。<br>\nその他のSNSアカウントでのログインは、随時対応していこうと思います。  </p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/693a0edb6e03d34154007d20fb0638b8/702f6/login.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 97.26027397260275%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsSAAALEgHS3X78AAAB7ElEQVQ4y5VUTU/bQBTMj+WCOORQVCQ49A9URbQClEN+AdzgDyChCgloIBDR2FZiGufbdmwndpZchp0lG20paZzDaON9s/PeznubQrfbxWg0QhiGS+H7PobDIYIgWMqhRq/XQ4Hk6XSKNE2RZZmC/i2EwGAwgGVZqFarYHLuaZ7Jpwa1CszMzclksgAJ4/EYURQhSRLEcbyogt+MmXyCGh8KUoyHGo0G6vW6Wj3Pg+M4Cq7rot1uK15uQVbAasyVYCJyknmFpuiHgpqQyu9ICulGELw+Rekpkyy483VphTroei1c39/hrvaI6u8nPDk2nD/PqDw+4FnG2IRcV9ZZWRW986Rf7U4HHQmOxVAe4pVzefgXSR7KjFHSMJPmbooGfaNfQfjmYSTHhz7q2VvpoQ6ym5y7mlWXsFCzLdhuU3nYbLWUcO4uU4ydpF/duXfkkExfuU9vmTD32Oi54zUp0O/3VRIeYELztawcG9PD9w3R3pnIN9j6tcgKY1kN11A2R7/l9yO2lmA0kmJBqAQD/kFE8T/c/wqmXOnPbAZxeACxXYT4sgux9xkvxU2Io+8qlubxcNEUiZnI8PXkF7YOL7FTvsKn0k9s7F/g22lFxcbrXJkQWYozO8bxrY9yxUfppo8f1z7O7UTFlnn4Cj8Nm+qBZG7fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"login\"\n        title=\"login\"\n        src=\"/static/693a0edb6e03d34154007d20fb0638b8/c7805/login.png\"\n        srcset=\"/static/693a0edb6e03d34154007d20fb0638b8/c0399/login.png 100w,\n/static/693a0edb6e03d34154007d20fb0638b8/9ec3c/login.png 200w,\n/static/693a0edb6e03d34154007d20fb0638b8/c7805/login.png 400w,\n/static/693a0edb6e03d34154007d20fb0638b8/34e8a/login.png 600w,\n/static/693a0edb6e03d34154007d20fb0638b8/702f6/login.png 657w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>ログイン後に、感想を書く本を選びます。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3d94bde0392358881fb2f87723c26fc9/67148/select_book.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.87179487179487%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAA70lEQVQoz52PO7KCQBBF2a1aauRm1GdgKQauCTSlAIH5MmbX7oHxKWpCcGoGbt9DEy3iHVbnPebxHyaHNaaHjT8ndPJ9etxgFm8xO279vcvDzP/84rTDkoiuaYqmrnG3LZyxcLbHdMimwS0vIKoaRiq0xnzMcZeza3pBlCQJairZll7SsCZMj5ASDWVVVeFG8F0I8TbDWBJLpZDQcp2QNuSXXkIFSSKlNXRPKIZnRWUmZF5InfRV2PYbcqBfZEPBkCDk/KuQwyH8Ed78W/ZTGMIxfPwyf90557ccA3f595/CLMtQliWKohgFd/M898IH+9eWVeNSVnwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"select_book\"\n        title=\"select_book\"\n        src=\"/static/3d94bde0392358881fb2f87723c26fc9/c7805/select_book.png\"\n        srcset=\"/static/3d94bde0392358881fb2f87723c26fc9/c0399/select_book.png 100w,\n/static/3d94bde0392358881fb2f87723c26fc9/9ec3c/select_book.png 200w,\n/static/3d94bde0392358881fb2f87723c26fc9/c7805/select_book.png 400w,\n/static/3d94bde0392358881fb2f87723c26fc9/34e8a/select_book.png 600w,\n/static/3d94bde0392358881fb2f87723c26fc9/8ff1e/select_book.png 800w,\n/static/3d94bde0392358881fb2f87723c26fc9/67148/select_book.png 1248w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>あとは、感想を書き、保存します。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 400px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6a27827eb9a68a33e03fe7e5853f75f6/f5ece/write_reports.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 80.50734312416556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACs0lEQVQ4y3WTy2vUUBTG88+4swVxpW5cuHEh/g8iiOBK0BZcKLRVFAsFQUQQF658gGBbF1KtRdHqTMEidN7SmclMkslMJpk8b16f516T6bS2B36ck5t7v3z33BvpzOIdnHp4G+cfP8C5R/cwfXcGU/M3MbUwS/Xsv3r+hmCaOD6XQeP8/fTCDE6TxtmleZy8fwvSm41PeL3xETxzXq6vYeXnN6xsfsHbr+tYLf7ASrGI5WIB7woFfPi1JVgtbOLV5zViby3XkeTdJvbYhdLuQG3/wYul63gyd43qFpwIMF1AHoQIWQIRcSLm71/fhFStVjFJuVqD3pPxdPEqLl88gdLvLfQNA72eCtMaoj8YwA8CjGwbFZpfmVjLa6lWqyGnXq/RYA221cezxSu4dOEYWo0Smi0ZjUYDmtZDpyNDlmWMRiOaX8/W1ccaEn8Yk71UFBnF78tYe/+c3HbQbsvY2dlBuVzG9vY2SqUShsPhPsGc/YJEtVKFaVtwwWAjgBu4UFUVuq6LrGmawLIsHFwrBHOr4z5UKlC6XRjUtwH1q9/vo5s9m6YpnHExLnqw/2LLfGJATfZ9X2RRez48zxP4ROCTU9cV8LE85/M5jDHxIcmm5tp0YrbnIkGagQOkyCNN92oeSZKMx7gpySJBPfLQCx2Bxmxogf1fVok4TeA6Djl0hBB3yk+bu+PBXUs63a1B7CENI1imhSSOcVgMQtpyzBDHKRjNjaKI6hhhGIp6LNgnQSP24doOFFVBkH0toW3k5IJ+EqPbM6Eb1qEf9YVD08CQBJnrw6BTTaIjHDJ+kRK0mi206F7yYFGCkByH9BtSguO4kEx7BCVyoDNH9KrHOM4EtnjX9k0E5NANEthBDIeyI/K/2nQZ/aImbZnumevTFWEBImp6SIsmibLMD+ToSMc9/AuD2Ir97+4duAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"write_reports\"\n        title=\"write_reports\"\n        src=\"/static/6a27827eb9a68a33e03fe7e5853f75f6/c7805/write_reports.png\"\n        srcset=\"/static/6a27827eb9a68a33e03fe7e5853f75f6/c0399/write_reports.png 100w,\n/static/6a27827eb9a68a33e03fe7e5853f75f6/9ec3c/write_reports.png 200w,\n/static/6a27827eb9a68a33e03fe7e5853f75f6/c7805/write_reports.png 400w,\n/static/6a27827eb9a68a33e03fe7e5853f75f6/34e8a/write_reports.png 600w,\n/static/6a27827eb9a68a33e03fe7e5853f75f6/f5ece/write_reports.png 749w\"\n        sizes=\"(max-width: 400px) 100vw, 400px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>保存後にシェアします。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 320px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/109f34c8887ef0bf79de64d3de65b7ab/01387/share.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 121.875%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsSAAALEgHS3X78AAADxElEQVQ4y4WU22tcVRTG578Q0XeFFp+0gg+i2ARFq6VqC2oqQrEW05ZaRUXb0liSSi4IsWkxRqG1F5GCqJAHoS8igs0k+tCUzCV1cuZy5lxm5twve5/zuc6ea5Jpsocfe5911vpmrX3W3qknJk7j3Rtz2DVxBs9dOI/nL43jjSuXMHR1FgevzeKVb7/Crskz2Dn2CR47/+m2pAYmz2JgcgS7aR6cas6CicROkG2gZU/8mv5ddm8glV5cxEI6jYWlJSzQOt0iWd8m+9/E7Q0s9JBeWsQixaaJZE7JlQos00RD12A26jCNRgfbsuA5TRzbgt9aJ/4Cel+UJOTzedxbXcUqkbJsF7/PX8HY8CDOHd2Lk4dewuHXn8H06MfgAFSLQ7M53BCQTQ7VTqzdUSqVsLKygmw2K0g5boCb16awf/ABjHywD9+NH8PpI3twYfRDeCxGrupiueSg0vDx75qNpYINP+SIIo44bgpmMhnkcrmu4C8/zeDqzHHMX/8Sp46+iotfHMGtn78HYwzVSgm2WUfgubQlOlzbgKJUhVA7w3WCmlZHrfwPfvvhc7yzdwfeemEHhg88hemRE7BtRzgahiGCGefgUdSE8/6CqlYDfAlfnxvCoX2P4vibT2LP4w9i5MSQyFDXdBSLRbHuNzYJKqoOBEX8+M1HOPjyIzgw8BBee/ph3JwbEwFhGAriZMNoJHObvoINw8Kd9Dz++HUcl6eP4bP3n8XF0bfB6iudoPbYKNpXMGmbP2/dwNmTL2Juahiz44fx3v6duDxzClESSL+oJ6ttM9Q0DSx0IRVWUMgtQ8rfxVr+Dqqle9hy3E9QUZWOTx2M4DAoq2RdDexNyIEFLXTun6GqquKFywKsuXVq2gCaQUfQcxDEHH7EOngEiyNIniGetxT0eIhqaIMHITWuQmfXbpW2udokS287QZcEFSolcFzIstwV7OxZd98qvikS2FLQJwfJNxBwBivwxBaIMsnuU+nUiWKmE4xyaNEOR1sL8iiGyTzaeAcqfXWVZtm3UWPUAYaOjCzhv7qCfE2GpCsw6PpK2qlcLm9oGxIMqRLFiZCtx9AcurKcGApVbPnJ+U3+jT6O5yM0LYS6Dk/V4NKRjOlM9+nDpmCuEeF6NsRdPUJa5virxNHwYyq/56vQhRqvSWDLy2CFAv0bQynJkO7Dbh/SVRTyGDUnhOUxGITZouYwBCGjBJm4aZjrgjUaCOsEzZwEk4tjXYbJgzBkM8hm1pPY2u8FFJChwA6JH9naYkKw96E/ORHQzy/XI9b2+R9VKJpXbe9vhQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"share\"\n        title=\"share\"\n        src=\"/static/109f34c8887ef0bf79de64d3de65b7ab/01387/share.png\"\n        srcset=\"/static/109f34c8887ef0bf79de64d3de65b7ab/c0399/share.png 100w,\n/static/109f34c8887ef0bf79de64d3de65b7ab/9ec3c/share.png 200w,\n/static/109f34c8887ef0bf79de64d3de65b7ab/01387/share.png 320w\"\n        sizes=\"(max-width: 320px) 100vw, 320px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>これだけの単純な作りです。</p>\n<h2 id=\"作った動機\"><a href=\"#%E4%BD%9C%E3%81%A3%E3%81%9F%E5%8B%95%E6%A9%9F\" aria-label=\"作った動機 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>作った動機</h2>\n<ul>\n<li>Firebaseを使いたかった</li>\n<li>本に出会える場を増やしたかった</li>\n</ul>\n<h4 id=\"1firebaseを使いたかった\"><a href=\"#1firebase%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F\" aria-label=\"1firebaseを使いたかった permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.Firebaseを使いたかった</h4>\n<p>単純にFirebaseのみでサービスを稼働させたかっただけです。これまでFirebase Authは使ったことがありました。これがすごく便利で、びっくりしました。今まで、アカウント管理のAPIを頑張って作ってたのを肩代わりしてくれるなんて。そこで、それ以外のサービスを使ってみようと言うのが動機です。<br>\n今回、Webアプリケーションで使えるDBやStorage、HostingなどFirebaseのサービスはほぼ使っています。すごく便利。使ってみた技術は、別の記事にまとめます。  </p>\n<h4 id=\"2本に出会える場を増やしたかった\"><a href=\"#2%E6%9C%AC%E3%81%AB%E5%87%BA%E4%BC%9A%E3%81%88%E3%82%8B%E5%A0%B4%E3%82%92%E5%A2%97%E3%82%84%E3%81%97%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F\" aria-label=\"2本に出会える場を増やしたかった permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.本に出会える場を増やしたかった</h4>\n<p>個人的な意見として、本とのファーストコンタクトは、タイトルや表紙、帯に書いてあるコメントなどパッと目に入ってくるものが多いです。本の感想やレビューを三行に絞ることで、書く側も読む側も気軽に使え、新たな本に出会える場となるのではないかと考えました。普段、本を読むことが少ない人は、こういった気軽な出会いから本を読んでみるのも良いのではないかと思います。  </p>\n<p>また、本を多く読む人も、多く読むからこそ、この本読んだけどどんな話だっけ？となることが多いかと思います。<br>\nそういった場面で、短く感想を残しておくことで、自分自身の読んだ本の記録にもなるかと思います。  </p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-label=\"まとめ permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Firebaseを使うことで、実質コーディングしたのは、フロントのVue.jsだけでした。DBやストレージへのアクセス、アカウント管理周りなどをFirebaseに任せられることで、APIを書く必要がないのは、コーディングする上で大きな負荷の軽減となりました。無料でここまで使わせてくれるのは、なにかサービスを簡単に始めたい時はとても便利だと思います。</p>","id":"630922f2-b3ff-5eb4-ba83-0a52a80dd61b","tableOfContents":"<ul>\n<li><a href=\"/edgwbs/book_reports_review/#%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9%E6%A6%82%E8%A6%81\">サービス概要</a></li>\n<li><a href=\"/edgwbs/book_reports_review/#%E4%BD%BF%E3%81%84%E6%96%B9\">使い方</a></li>\n<li>\n<p><a href=\"/edgwbs/book_reports_review/#%E4%BD%9C%E3%81%A3%E3%81%9F%E5%8B%95%E6%A9%9F\">作った動機</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/edgwbs/book_reports_review/#1firebase%E3%82%92%E4%BD%BF%E3%81%84%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F\">1.Firebaseを使いたかった</a></li>\n<li><a href=\"/edgwbs/book_reports_review/#2%E6%9C%AC%E3%81%AB%E5%87%BA%E4%BC%9A%E3%81%88%E3%82%8B%E5%A0%B4%E3%82%92%E5%A2%97%E3%82%84%E3%81%97%E3%81%9F%E3%81%8B%E3%81%A3%E3%81%9F\">2.本に出会える場を増やしたかった</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/edgwbs/book_reports_review/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n</ul>","frontmatter":{"title":"三行で読書感想文を書いて、SNSでシェアできるサービスを作った","date":"2019-09-24","tags":["WebApp","poem","firebase"]},"fields":{"slug":"/edgwbs/book_reports_review/"}}},{"node":{"excerpt":"autoencoderなどを作っていると、保存や推論を行う上での再利用性を考え、encoderとdecoderは分けてModelを作りたいことがある。 autoencoderの学習の際には、作成したencoderのModelとdecoderのModelを結合する。 Modelの結合は前はできなかった気がするが、できるようになっていたのでメモ。 Kerasのバージョンは、2.1.…","html":"<p>autoencoderなどを作っていると、保存や推論を行う上での再利用性を考え、encoderとdecoderは分けてModelを作りたいことがある。</p>\n<p>autoencoderの学習の際には、作成したencoderのModelとdecoderのModelを結合する。</p>\n<p>Modelの結合は前はできなかった気がするが、できるようになっていたのでメモ。</p>\n<p>Kerasのバージョンは、2.1.1</p>\n<p>まずは、シンプルなモデルを2つ作る。input→model1→model2→outputを作る。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">def</span> <span class=\"token function\">model1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    layer_input <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    layer_output <span class=\"token operator\">=</span> Dense<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">)</span>\n    model <span class=\"token operator\">=</span> Model<span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">,</span> layer_output<span class=\"token punctuation\">)</span>\n    model<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> model\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">model2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    layer_input <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    layer_output <span class=\"token operator\">=</span> Dense<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">)</span>\n    model <span class=\"token operator\">=</span> Model<span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">,</span> layer_output<span class=\"token punctuation\">)</span>\n    model<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> model</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>まず、model1へのインプットを作る。model1のアウトプットをmodel2のインプットにし、Modelのインスタンスを作る。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\">m1 <span class=\"token operator\">=</span> model1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nm2 <span class=\"token operator\">=</span> model2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\ninp <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nmodel1_output <span class=\"token operator\">=</span> m1<span class=\"token punctuation\">(</span>inp<span class=\"token punctuation\">)</span>\nout <span class=\"token operator\">=</span> m2<span class=\"token punctuation\">(</span>model1_output<span class=\"token punctuation\">)</span>\nmodel <span class=\"token operator\">=</span> Model<span class=\"token punctuation\">(</span>inp<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">)</span>\nmodel<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>すると、こんな感じでモデルが結合できたのが確認できる。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-bash line-numbers\"><code class=\"language-bash\">Using TensorFlow backend.\n_________________________________________________________________\nLayer <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span>                 Output Shape              Param <span class=\"token comment\">#</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\ninput_1 <span class=\"token punctuation\">(</span>InputLayer<span class=\"token punctuation\">)</span>         <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">0</span>\n_________________________________________________________________\ndense_1 <span class=\"token punctuation\">(</span>Dense<span class=\"token punctuation\">)</span>              <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">110</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\nTotal params: <span class=\"token number\">110</span>\nTrainable params: <span class=\"token number\">110</span>\nNon-trainable params: <span class=\"token number\">0</span>\n_________________________________________________________________\n_________________________________________________________________\nLayer <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span>                 Output Shape              Param <span class=\"token comment\">#</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\ninput_2 <span class=\"token punctuation\">(</span>InputLayer<span class=\"token punctuation\">)</span>         <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">0</span>\n_________________________________________________________________\ndense_2 <span class=\"token punctuation\">(</span>Dense<span class=\"token punctuation\">)</span>              <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">110</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\nTotal params: <span class=\"token number\">110</span>\nTrainable params: <span class=\"token number\">110</span>\nNon-trainable params: <span class=\"token number\">0</span>\n_________________________________________________________________\n_________________________________________________________________\nLayer <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span>                 Output Shape              Param <span class=\"token comment\">#</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\ninput_3 <span class=\"token punctuation\">(</span>InputLayer<span class=\"token punctuation\">)</span>         <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">0</span>\n_________________________________________________________________\nmodel_1 <span class=\"token punctuation\">(</span>Model<span class=\"token punctuation\">)</span>              <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">110</span>\n_________________________________________________________________\nmodel_2 <span class=\"token punctuation\">(</span>Model<span class=\"token punctuation\">)</span>              <span class=\"token punctuation\">(</span>None, None, <span class=\"token number\">10</span><span class=\"token punctuation\">)</span>          <span class=\"token number\">110</span>\n<span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">==</span><span class=\"token operator\">=</span>\nTotal params: <span class=\"token number\">220</span>\nTrainable params: <span class=\"token number\">220</span>\nNon-trainable params: <span class=\"token number\">0</span>\n_________________________________________________________________</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>コード全体はこんな感じ。</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-python line-numbers\"><code class=\"language-python\"><span class=\"token keyword\">from</span> keras<span class=\"token punctuation\">.</span>layers <span class=\"token keyword\">import</span> Dense\n<span class=\"token keyword\">from</span> keras<span class=\"token punctuation\">.</span>models <span class=\"token keyword\">import</span> Model\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">model1</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    layer_input <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    layer_output <span class=\"token operator\">=</span> Dense<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">)</span>\n    model <span class=\"token operator\">=</span> Model<span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">,</span> layer_output<span class=\"token punctuation\">)</span>\n    model<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> model\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">model2</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    layer_input <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    layer_output <span class=\"token operator\">=</span> Dense<span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">)</span>\n    model <span class=\"token operator\">=</span> Model<span class=\"token punctuation\">(</span>layer_input<span class=\"token punctuation\">,</span> layer_output<span class=\"token punctuation\">)</span>\n    model<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> model\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    m1 <span class=\"token operator\">=</span> model1<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    m2 <span class=\"token operator\">=</span> model2<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    inp <span class=\"token operator\">=</span> Input<span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    x <span class=\"token operator\">=</span> m1<span class=\"token punctuation\">(</span>inp<span class=\"token punctuation\">)</span>\n    out <span class=\"token operator\">=</span> m2<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span>\n    model <span class=\"token operator\">=</span> Model<span class=\"token punctuation\">(</span>inp<span class=\"token punctuation\">,</span> out<span class=\"token punctuation\">)</span>\n    model<span class=\"token punctuation\">.</span>summary<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n   main<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>モデルインスタンスの再利用性が上がってて使いやすくなってる。  </p>","id":"24f8e11e-6636-52cf-8e03-674e1e2f77b4","tableOfContents":"","frontmatter":{"title":"kerasでモデルを結合する","date":"2019-09-23","tags":["keras","deeplearning"]},"fields":{"slug":"/neuralnet/combine_model/"}}},{"node":{"excerpt":"最新論文の情報を広く浅く集めたい場合の巡回するサイトたちをまとめておきます。 おすすめがあれば教えてください。 Google Scholar: https://scholar.google.com/schhp?hl=ja 研究者やキーワードが決まっていると探しやすい。ただ、ザッピングには向かない。 いろいろ論文の検索エンジン使ってたけど、結局これが残った。texの引用が楽 arXiv arXiv…","html":"<p>最新論文の情報を広く浅く集めたい場合の巡回するサイトたちをまとめておきます。<br>\nおすすめがあれば教えてください。</p>\n<p>Google Scholar: <a href=\"https://scholar.google.com/schhp?hl=ja\">https://scholar.google.com/schhp?hl=ja</a></p>\n<p>研究者やキーワードが決まっていると探しやすい。ただ、ザッピングには向かない。<br>\nいろいろ論文の検索エンジン使ってたけど、結局これが残った。texの引用が楽</p>\n<h2 id=\"arxiv\"><a href=\"#arxiv\" aria-label=\"arxiv permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>arXiv</h2>\n<h4 id=\"arxiv-1\"><a href=\"#arxiv-1\" aria-label=\"arxiv 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>arXiv</h4>\n<p><a href=\"https://arxiv.org/\">https://arxiv.org/</a></p>\n<p>トップページは慣れないとちょっと見づらい。有名な研究者で検索したものや分野で絞り込んだものをチェックするのが使いやすそう。</p>\n<h4 id=\"arxivtimes\"><a href=\"#arxivtimes\" aria-label=\"arxivtimes permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>arXivTimes</h4>\n<p><a href=\"https://medium.com/@arxivtimes\">https://medium.com/@arxivtimes</a></p>\n<p>日本語、arXivのまとめ系、ツイッター</p>\n<h4 id=\"論文まとめてくれてるgithub\"><a href=\"#%E8%AB%96%E6%96%87%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%8F%E3%82%8C%E3%81%A6%E3%82%8Bgithub\" aria-label=\"論文まとめてくれてるgithub permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>論文まとめてくれてるGitHub</h4>\n<p><a href=\"https://github.com/dennybritz/deeplearning-papernotes\">https://github.com/dennybritz/deeplearning-papernotes</a></p>\n<p>arXivのまとめ。古いものは2011年から、新しいものは2018まで更新がある。</p>\n<h2 id=\"企業の論文\"><a href=\"#%E4%BC%81%E6%A5%AD%E3%81%AE%E8%AB%96%E6%96%87\" aria-label=\"企業の論文 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>企業の論文</h2>\n<h4 id=\"deepmind\"><a href=\"#deepmind\" aria-label=\"deepmind permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>DeepMind</h4>\n<p><a href=\"https://deepmind.com/research/publications/\">https://deepmind.com/research/publications/</a></p>\n<h4 id=\"microsoft-research-publications\"><a href=\"#microsoft-research-publications\" aria-label=\"microsoft research publications permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Microsoft Research Publications</h4>\n<p><a href=\"http://research.microsoft.com/apps/catalog/default.aspx?t=publications&#x26;ra=47200\">http://research.microsoft.com/apps/catalog/default.aspx?t=publications&#x26;ra=47200</a></p>\n<h4 id=\"google-research-publications\"><a href=\"#google-research-publications\" aria-label=\"google research publications permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Google Research Publications</h4>\n<p><a href=\"http://research.google.com/pubs/ArtificialIntelligenceandMachineLearning.html\">http://research.google.com/pubs/ArtificialIntelligenceandMachineLearning.html</a></p>\n<h4 id=\"yahoo-labs\"><a href=\"#yahoo-labs\" aria-label=\"yahoo labs permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Yahoo! Labs</h4>\n<p><a href=\"http://labs.yahoo.com/publication/?area=machine-learning\">http://labs.yahoo.com/publication/?area=machine-learning</a></p>","id":"6a4d5c8b-b9ba-5893-b39b-fc3f18a388ab","tableOfContents":"<ul>\n<li>\n<p><a href=\"/neuralnet/pepar_summary/#arxiv\">arXiv</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/neuralnet/pepar_summary/#arxiv-1\">arXiv</a></li>\n<li><a href=\"/neuralnet/pepar_summary/#arxivtimes\">arXivTimes</a></li>\n<li><a href=\"/neuralnet/pepar_summary/#%E8%AB%96%E6%96%87%E3%81%BE%E3%81%A8%E3%82%81%E3%81%A6%E3%81%8F%E3%82%8C%E3%81%A6%E3%82%8Bgithub\">論文まとめてくれてるGitHub</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"/neuralnet/pepar_summary/#%E4%BC%81%E6%A5%AD%E3%81%AE%E8%AB%96%E6%96%87\">企業の論文</a></p>\n<ul>\n<li>\n<ul>\n<li><a href=\"/neuralnet/pepar_summary/#deepmind\">DeepMind</a></li>\n<li><a href=\"/neuralnet/pepar_summary/#microsoft-research-publications\">Microsoft Research Publications</a></li>\n<li><a href=\"/neuralnet/pepar_summary/#google-research-publications\">Google Research Publications</a></li>\n<li><a href=\"/neuralnet/pepar_summary/#yahoo-labs\">Yahoo! Labs</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"Deeplearningまわりの最新論文を浅く広くみてまわる","date":"2019-09-23","tags":["deeplearning"]},"fields":{"slug":"/neuralnet/pepar_summary/"}}}]}},"pageContext":{"isCreatedByStatefulCreatePages":true}}}